{"ast":null,"code":"import _objectSpread from\"/Users/allendunn/Documents/Stream/stream-soundboard/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import{STREAMING_CATEGORIES,getCategoryDisplayName,getCategoryColor,getCategoryIcon}from'../data/categories';import trackManagementService from'../services/trackManagementService';import TrackUploader from'./admin/TrackUploader';import TrackCard from'./TrackCard';import RoleGuard from'./RoleGuard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EnhancedMusicLibrary=_ref=>{var _filters$energy,_filters$mood,_filters$loopFriendly;let{userRole}=_ref;const[tracks,setTracks]=useState([]);const[filteredTracks,setFilteredTracks]=useState([]);const[categories,setCategories]=useState(STREAMING_CATEGORIES);const[selectedCategory,setSelectedCategory]=useState(null);const[searchQuery,setSearchQuery]=useState('');const[filters,setFilters]=useState({});const[isLoading,setIsLoading]=useState(true);const[showUploader,setShowUploader]=useState(false);const[currentlyPlaying,setCurrentlyPlaying]=useState(null);const[viewMode,setViewMode]=useState('grid');// Load tracks on component mount\nuseEffect(()=>{loadTracks();},[]);// Filter tracks when filters change\nuseEffect(()=>{applyFilters();},[tracks,filters,searchQuery,selectedCategory]);const loadTracks=async()=>{try{setIsLoading(true);const allTracks=await trackManagementService.getAllTracks();const allCategories=await trackManagementService.getCategories();setTracks(allTracks);setCategories(allCategories);}catch(error){console.error('Failed to load tracks:',error);}finally{setIsLoading(false);}};const applyFilters=async()=>{try{let filtered=[...tracks];// Apply search query\nif(searchQuery.trim()){const searchResults=await trackManagementService.searchTracks(searchQuery);filtered=searchResults;}// Apply category filter\nif(selectedCategory){filtered=filtered.filter(track=>track.category===selectedCategory);}// Apply advanced filters\nif(Object.keys(filters).length>0){const advancedFiltered=await trackManagementService.filterTracks(filters);filtered=filtered.filter(track=>advancedFiltered.some(ft=>ft.id===track.id));}setFilteredTracks(filtered);}catch(error){console.error('Failed to apply filters:',error);}};const handleTrackUpload=newTrack=>{setTracks(prev=>[newTrack,...prev]);setShowUploader(false);};const handlePlayTrack=track=>{if(currentlyPlaying===track.id){setCurrentlyPlaying(null);// Stop audio logic here\n}else{setCurrentlyPlaying(track.id);// Play audio logic here\n}};const handleAddToPlaylist=track=>{// Add to playlist logic here\nconsole.log('Adding track to playlist:',track.title);};const handleEditTrack=track=>{// Edit track logic here\nconsole.log('Editing track:',track.title);};const handleDeleteTrack=async track=>{if(window.confirm(\"Are you sure you want to delete \\\"\".concat(track.title,\"\\\"?\"))){try{await trackManagementService.deleteTrack(track.id);setTracks(prev=>prev.filter(t=>t.id!==track.id));}catch(error){console.error('Failed to delete track:',error);}}};const clearFilters=()=>{setFilters({});setSearchQuery('');setSelectedCategory(null);};const getFilteredTrackCount=()=>{return filteredTracks.length;};const getTotalTrackCount=()=>{return tracks.length;};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-[400px]\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-stream-accent mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Loading music library...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-white mb-2\",children:\"\\uD83C\\uDFB5 Professional Music Library\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-400 mb-4\",children:\"Hand-curated royalty-free music for streamers\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-4 text-sm text-gray-500\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[getTotalTrackCount(),\" tracks available\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-stream-accent\",children:\"\\u2B50 Premium Collection\"})]})]}),/*#__PURE__*/_jsx(RoleGuard,{userRole:userRole,allowedRoles:['agency'],children:/*#__PURE__*/_jsxs(motion.div,{className:\"bg-stream-gray rounded-xl p-6 border border-stream-light/20\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-white mb-4\",children:\"\\uD83D\\uDCC1 Track Library Management\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowUploader(true),className:\"bg-stream-accent hover:bg-stream-accent/90 text-white font-semibold px-6 py-3 rounded-xl transition-all duration-200\",children:\"+ Add New Track\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-stream-gray border border-stream-light/30 hover:bg-stream-light/20 text-white font-medium px-6 py-3 rounded-xl transition-all duration-200\",children:\"\\uD83D\\uDCC1 Bulk Upload\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-stream-gray border border-stream-light/30 hover:bg-stream-light/20 text-white font-medium px-6 py-3 rounded-xl transition-all duration-200\",children:\"\\uD83C\\uDFB5 Import Playlist\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-stream-darker rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-300 mb-2\",children:\"Recently Added:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"text-sm text-gray-400 space-y-1\",children:tracks.slice(0,3).map(track=>/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 \",track.title,\" - \",Math.floor(track.duration/60),\":\",(track.duration%60).toString().padStart(2,'0'),\" - \",track.energy===5?'High Energy':track.energy<=2?'Low Energy':'Medium Energy']},track.id))})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-stream-gray rounded-xl p-6 border border-stream-light/20\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row gap-4 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search tracks, artists, or tags...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-stream-accent focus:outline-none\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('grid'),className:\"px-4 py-3 rounded-lg font-medium transition-all duration-200 \".concat(viewMode==='grid'?'bg-stream-accent text-white':'bg-stream-darker text-gray-400 hover:text-white'),children:\"\\uD83D\\uDCF1 Grid\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('list'),className:\"px-4 py-3 rounded-lg font-medium transition-all duration-200 \".concat(viewMode==='list'?'bg-stream-accent text-white':'bg-stream-darker text-gray-400 hover:text-white'),children:\"\\uD83D\\uDCCB List\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white mb-4\",children:\"Categories\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedCategory(null),className:\"px-4 py-2 rounded-lg font-medium transition-all duration-200 \".concat(selectedCategory===null?'bg-stream-accent text-white':'bg-stream-darker text-gray-400 hover:text-white border border-stream-light/20'),children:[\"All (\",getTotalTrackCount(),\")\"]}),categories.map(category=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedCategory(category.id),className:\"px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2 \".concat(selectedCategory===category.id?'bg-stream-accent text-white':'bg-stream-darker text-gray-400 hover:text-white border border-stream-light/20'),style:{borderColor:selectedCategory===category.id?'transparent':getCategoryColor(category.id)},children:[/*#__PURE__*/_jsx(\"span\",{children:getCategoryIcon(category.id)}),/*#__PURE__*/_jsx(\"span\",{children:category.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs opacity-75\",children:[\"(\",category.trackCount,\")\"]})]},category.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Energy Level\"}),/*#__PURE__*/_jsxs(\"select\",{value:((_filters$energy=filters.energy)===null||_filters$energy===void 0?void 0:_filters$energy.join(','))||'',onChange:e=>{const values=e.target.value?e.target.value.split(',').map(v=>parseInt(v)):undefined;setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{energy:values}));},className:\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-3 py-2 text-white focus:border-stream-accent focus:outline-none\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Levels\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1,2\",children:\"Low (1-2)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"Medium (3)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4,5\",children:\"High (4-5)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Mood\"}),/*#__PURE__*/_jsxs(\"select\",{value:((_filters$mood=filters.mood)===null||_filters$mood===void 0?void 0:_filters$mood.join(','))||'',onChange:e=>{const values=e.target.value?e.target.value.split(','):undefined;setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{mood:values}));},className:\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-3 py-2 text-white focus:border-stream-accent focus:outline-none\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Moods\"}),/*#__PURE__*/_jsx(\"option\",{value:\"chill,peaceful\",children:\"Chill & Peaceful\"}),/*#__PURE__*/_jsx(\"option\",{value:\"epic,energetic\",children:\"Epic & Energetic\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mysterious,dark\",children:\"Mysterious & Dark\"}),/*#__PURE__*/_jsx(\"option\",{value:\"uplifting\",children:\"Uplifting\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Duration\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.duration?\"\".concat(filters.duration.min,\"-\").concat(filters.duration.max):'',onChange:e=>{if(e.target.value){const[min,max]=e.target.value.split('-').map(v=>parseInt(v));setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{duration:{min,max}}));}else{setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{duration:undefined}));}},className:\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-3 py-2 text-white focus:border-stream-accent focus:outline-none\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Any Duration\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0-60\",children:\"Under 1 min\"}),/*#__PURE__*/_jsx(\"option\",{value:\"60-180\",children:\"1-3 min\"}),/*#__PURE__*/_jsx(\"option\",{value:\"180-300\",children:\"3-5 min\"}),/*#__PURE__*/_jsx(\"option\",{value:\"300-600\",children:\"5-10 min\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Loop Friendly\"}),/*#__PURE__*/_jsxs(\"select\",{value:((_filters$loopFriendly=filters.loopFriendly)===null||_filters$loopFriendly===void 0?void 0:_filters$loopFriendly.toString())||'',onChange:e=>{const value=e.target.value===''?undefined:e.target.value==='true';setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{loopFriendly:value}));},className:\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-3 py-2 text-white focus:border-stream-accent focus:outline-none\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Any\"}),/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"Loop Friendly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"Not Loop Friendly\"})]})]})]}),(Object.keys(filters).length>0||searchQuery||selectedCategory)&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:clearFilters,className:\"text-stream-accent hover:text-stream-accent/80 text-sm font-medium\",children:\"Clear all filters\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400\",children:[\"Showing \",getFilteredTrackCount(),\" of \",getTotalTrackCount(),\" tracks\",selectedCategory&&\" in \".concat(getCategoryDisplayName(selectedCategory))]})}),/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",children:filteredTracks.length===0?/*#__PURE__*/_jsxs(motion.div,{className:\"text-center py-20\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83C\\uDFB5\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-white mb-2\",children:\"No tracks found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 mb-6\",children:\"Try adjusting your search or filters to find what you're looking for.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearFilters,className:\"bg-stream-accent hover:bg-stream-accent/90 text-white font-semibold px-6 py-3 rounded-xl transition-all duration-200\",children:\"Clear Filters\"})]},\"no-results\"):/*#__PURE__*/_jsx(motion.div,{className:viewMode==='grid'?'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6':'space-y-4',initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:filteredTracks.map(track=>/*#__PURE__*/_jsx(TrackCard,{track:track,onPlay:handlePlayTrack,onPause:()=>setCurrentlyPlaying(null),isPlaying:currentlyPlaying===track.id},track.id))},\"tracks-grid\")}),/*#__PURE__*/_jsx(AnimatePresence,{children:showUploader&&/*#__PURE__*/_jsx(TrackUploader,{onTrackUpload:handleTrackUpload,onClose:()=>setShowUploader(false)})})]});};export default EnhancedMusicLibrary;","map":{"version":3,"names":["React","useState","useEffect","motion","AnimatePresence","STREAMING_CATEGORIES","getCategoryDisplayName","getCategoryColor","getCategoryIcon","trackManagementService","TrackUploader","TrackCard","RoleGuard","jsx","_jsx","jsxs","_jsxs","EnhancedMusicLibrary","_ref","_filters$energy","_filters$mood","_filters$loopFriendly","userRole","tracks","setTracks","filteredTracks","setFilteredTracks","categories","setCategories","selectedCategory","setSelectedCategory","searchQuery","setSearchQuery","filters","setFilters","isLoading","setIsLoading","showUploader","setShowUploader","currentlyPlaying","setCurrentlyPlaying","viewMode","setViewMode","loadTracks","applyFilters","allTracks","getAllTracks","allCategories","getCategories","error","console","filtered","trim","searchResults","searchTracks","filter","track","category","Object","keys","length","advancedFiltered","filterTracks","some","ft","id","handleTrackUpload","newTrack","prev","handlePlayTrack","handleAddToPlaylist","log","title","handleEditTrack","handleDeleteTrack","window","confirm","concat","deleteTrack","t","clearFilters","getFilteredTrackCount","getTotalTrackCount","className","children","allowedRoles","div","initial","opacity","y","animate","onClick","slice","map","Math","floor","duration","toString","padStart","energy","type","placeholder","value","onChange","e","target","style","borderColor","name","trackCount","join","values","split","v","parseInt","undefined","_objectSpread","mood","min","max","loopFriendly","mode","exit","onPlay","onPause","isPlaying","onTrackUpload","onClose"],"sources":["/Users/allendunn/Documents/Stream/stream-soundboard/src/components/EnhancedMusicLibrary.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { STREAMING_CATEGORIES, getCategoryDisplayName, getCategoryColor, getCategoryIcon } from '../data/categories';\nimport { Track, FilterOptions } from '../types/track';\nimport { UserRole } from '../types/agency';\nimport trackManagementService from '../services/trackManagementService';\nimport TrackUploader from './admin/TrackUploader';\nimport TrackCard from './TrackCard';\nimport RoleGuard from './RoleGuard';\nimport { audioController } from '../services/audioController';\n\ninterface EnhancedMusicLibraryProps {\n  userRole: UserRole;\n}\n\nconst EnhancedMusicLibrary: React.FC<EnhancedMusicLibraryProps> = ({ userRole }) => {\n  const [tracks, setTracks] = useState<Track[]>([]);\n  const [filteredTracks, setFilteredTracks] = useState<Track[]>([]);\n  const [categories, setCategories] = useState(STREAMING_CATEGORIES);\n  const [selectedCategory, setSelectedCategory] = useState<string | null>(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filters, setFilters] = useState<FilterOptions>({});\n  const [isLoading, setIsLoading] = useState(true);\n  const [showUploader, setShowUploader] = useState(false);\n  const [currentlyPlaying, setCurrentlyPlaying] = useState<string | null>(null);\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n\n  // Load tracks on component mount\n  useEffect(() => {\n    loadTracks();\n  }, []);\n\n  // Filter tracks when filters change\n  useEffect(() => {\n    applyFilters();\n  }, [tracks, filters, searchQuery, selectedCategory]);\n\n  const loadTracks = async () => {\n    try {\n      setIsLoading(true);\n      const allTracks = await trackManagementService.getAllTracks();\n      const allCategories = await trackManagementService.getCategories();\n      \n      setTracks(allTracks);\n      setCategories(allCategories);\n    } catch (error) {\n      console.error('Failed to load tracks:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const applyFilters = async () => {\n    try {\n      let filtered = [...tracks];\n\n      // Apply search query\n      if (searchQuery.trim()) {\n        const searchResults = await trackManagementService.searchTracks(searchQuery);\n        filtered = searchResults;\n      }\n\n      // Apply category filter\n      if (selectedCategory) {\n        filtered = filtered.filter(track => track.category === selectedCategory);\n      }\n\n      // Apply advanced filters\n      if (Object.keys(filters).length > 0) {\n        const advancedFiltered = await trackManagementService.filterTracks(filters);\n        filtered = filtered.filter(track => \n          advancedFiltered.some(ft => ft.id === track.id)\n        );\n      }\n\n      setFilteredTracks(filtered);\n    } catch (error) {\n      console.error('Failed to apply filters:', error);\n    }\n  };\n\n  const handleTrackUpload = (newTrack: Track) => {\n    setTracks(prev => [newTrack, ...prev]);\n    setShowUploader(false);\n  };\n\n  const handlePlayTrack = (track: Track) => {\n    if (currentlyPlaying === track.id) {\n      setCurrentlyPlaying(null);\n      // Stop audio logic here\n    } else {\n      setCurrentlyPlaying(track.id);\n      // Play audio logic here\n    }\n  };\n\n  const handleAddToPlaylist = (track: Track) => {\n    // Add to playlist logic here\n    console.log('Adding track to playlist:', track.title);\n  };\n\n  const handleEditTrack = (track: Track) => {\n    // Edit track logic here\n    console.log('Editing track:', track.title);\n  };\n\n  const handleDeleteTrack = async (track: Track) => {\n    if (window.confirm(`Are you sure you want to delete \"${track.title}\"?`)) {\n      try {\n        await trackManagementService.deleteTrack(track.id);\n        setTracks(prev => prev.filter(t => t.id !== track.id));\n      } catch (error) {\n        console.error('Failed to delete track:', error);\n      }\n    }\n  };\n\n  const clearFilters = () => {\n    setFilters({});\n    setSearchQuery('');\n    setSelectedCategory(null);\n  };\n\n  const getFilteredTrackCount = () => {\n    return filteredTracks.length;\n  };\n\n  const getTotalTrackCount = () => {\n    return tracks.length;\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[400px]\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-stream-accent mx-auto mb-4\"></div>\n          <p className=\"text-gray-400\">Loading music library...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"text-center\">\n        <h1 className=\"text-4xl font-bold text-white mb-2\">\n          🎵 Professional Music Library\n        </h1>\n        <p className=\"text-xl text-gray-400 mb-4\">\n          Hand-curated royalty-free music for streamers\n        </p>\n        <div className=\"flex items-center justify-center space-x-4 text-sm text-gray-500\">\n          <span>{getTotalTrackCount()} tracks available</span>\n          <span className=\"text-stream-accent\">⭐ Premium Collection</span>\n        </div>\n      </div>\n\n      {/* Admin Controls - Agency Only */}\n      <RoleGuard userRole={userRole} allowedRoles={['agency']}>\n        <motion.div\n          className=\"bg-stream-gray rounded-xl p-6 border border-stream-light/20\"\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n        >\n          <h3 className=\"text-xl font-semibold text-white mb-4\">📁 Track Library Management</h3>\n          <div className=\"flex flex-wrap items-center gap-4\">\n            <button\n              onClick={() => setShowUploader(true)}\n              className=\"bg-stream-accent hover:bg-stream-accent/90 text-white font-semibold px-6 py-3 rounded-xl transition-all duration-200\"\n            >\n              + Add New Track\n            </button>\n            <button className=\"bg-stream-gray border border-stream-light/30 hover:bg-stream-light/20 text-white font-medium px-6 py-3 rounded-xl transition-all duration-200\">\n              📁 Bulk Upload\n            </button>\n            <button className=\"bg-stream-gray border border-stream-light/30 hover:bg-stream-light/20 text-white font-medium px-6 py-3 rounded-xl transition-all duration-200\">\n              🎵 Import Playlist\n            </button>\n          </div>\n          \n          <div className=\"mt-4 p-4 bg-stream-darker rounded-lg\">\n            <h4 className=\"text-sm font-medium text-gray-300 mb-2\">Recently Added:</h4>\n            <ul className=\"text-sm text-gray-400 space-y-1\">\n              {tracks.slice(0, 3).map(track => (\n                <li key={track.id}>• {track.title} - {Math.floor(track.duration / 60)}:{(track.duration % 60).toString().padStart(2, '0')} - {track.energy === 5 ? 'High Energy' : track.energy <= 2 ? 'Low Energy' : 'Medium Energy'}</li>\n              ))}\n            </ul>\n          </div>\n        </motion.div>\n      </RoleGuard>\n\n      {/* Search and Filters */}\n      <div className=\"bg-stream-gray rounded-xl p-6 border border-stream-light/20\">\n        <div className=\"flex flex-col lg:flex-row gap-4 mb-6\">\n          {/* Search */}\n          <div className=\"flex-1\">\n            <input\n              type=\"text\"\n              placeholder=\"Search tracks, artists, or tags...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-stream-accent focus:outline-none\"\n            />\n          </div>\n\n          {/* View Mode Toggle */}\n          <div className=\"flex items-center space-x-2\">\n            <button\n              onClick={() => setViewMode('grid')}\n              className={`px-4 py-3 rounded-lg font-medium transition-all duration-200 ${\n                viewMode === 'grid'\n                  ? 'bg-stream-accent text-white'\n                  : 'bg-stream-darker text-gray-400 hover:text-white'\n              }`}\n            >\n              📱 Grid\n            </button>\n            <button\n              onClick={() => setViewMode('list')}\n              className={`px-4 py-3 rounded-lg font-medium transition-all duration-200 ${\n                viewMode === 'list'\n                  ? 'bg-stream-accent text-white'\n                  : 'bg-stream-darker text-gray-400 hover:text-white'\n              }`}\n            >\n              📋 List\n            </button>\n          </div>\n        </div>\n\n        {/* Category Filter */}\n        <div className=\"mb-6\">\n          <h3 className=\"text-lg font-semibold text-white mb-4\">Categories</h3>\n          <div className=\"flex flex-wrap gap-3\">\n            <button\n              onClick={() => setSelectedCategory(null)}\n              className={`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${\n                selectedCategory === null\n                  ? 'bg-stream-accent text-white'\n                  : 'bg-stream-darker text-gray-400 hover:text-white border border-stream-light/20'\n              }`}\n            >\n              All ({getTotalTrackCount()})\n            </button>\n            {categories.map(category => (\n              <button\n                key={category.id}\n                onClick={() => setSelectedCategory(category.id)}\n                className={`px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2 ${\n                  selectedCategory === category.id\n                    ? 'bg-stream-accent text-white'\n                    : 'bg-stream-darker text-gray-400 hover:text-white border border-stream-light/20'\n                }`}\n                style={{\n                  borderColor: selectedCategory === category.id ? 'transparent' : getCategoryColor(category.id)\n                }}\n              >\n                <span>{getCategoryIcon(category.id)}</span>\n                <span>{category.name}</span>\n                <span className=\"text-xs opacity-75\">({category.trackCount})</span>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Advanced Filters */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          {/* Energy Level */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Energy Level</label>\n            <select\n              value={filters.energy?.join(',') || ''}\n              onChange={(e) => {\n                const values = e.target.value ? e.target.value.split(',').map(v => parseInt(v)) : undefined;\n                setFilters(prev => ({ ...prev, energy: values }));\n              }}\n              className=\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-3 py-2 text-white focus:border-stream-accent focus:outline-none\"\n            >\n              <option value=\"\">All Levels</option>\n              <option value=\"1,2\">Low (1-2)</option>\n              <option value=\"3\">Medium (3)</option>\n              <option value=\"4,5\">High (4-5)</option>\n            </select>\n          </div>\n\n          {/* Mood */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Mood</label>\n            <select\n              value={filters.mood?.join(',') || ''}\n              onChange={(e) => {\n                const values = e.target.value ? e.target.value.split(',') : undefined;\n                setFilters(prev => ({ ...prev, mood: values }));\n              }}\n              className=\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-3 py-2 text-white focus:border-stream-accent focus:outline-none\"\n            >\n              <option value=\"\">All Moods</option>\n              <option value=\"chill,peaceful\">Chill & Peaceful</option>\n              <option value=\"epic,energetic\">Epic & Energetic</option>\n              <option value=\"mysterious,dark\">Mysterious & Dark</option>\n              <option value=\"uplifting\">Uplifting</option>\n            </select>\n          </div>\n\n          {/* Duration */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Duration</label>\n            <select\n              value={filters.duration ? `${filters.duration.min}-${filters.duration.max}` : ''}\n              onChange={(e) => {\n                if (e.target.value) {\n                  const [min, max] = e.target.value.split('-').map(v => parseInt(v));\n                  setFilters(prev => ({ ...prev, duration: { min, max } }));\n                } else {\n                  setFilters(prev => ({ ...prev, duration: undefined }));\n                }\n              }}\n              className=\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-3 py-2 text-white focus:border-stream-accent focus:outline-none\"\n            >\n              <option value=\"\">Any Duration</option>\n              <option value=\"0-60\">Under 1 min</option>\n              <option value=\"60-180\">1-3 min</option>\n              <option value=\"180-300\">3-5 min</option>\n              <option value=\"300-600\">5-10 min</option>\n            </select>\n          </div>\n\n          {/* Loop Friendly */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Loop Friendly</label>\n            <select\n              value={filters.loopFriendly?.toString() || ''}\n              onChange={(e) => {\n                const value = e.target.value === '' ? undefined : e.target.value === 'true';\n                setFilters(prev => ({ ...prev, loopFriendly: value }));\n              }}\n              className=\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-3 py-2 text-white focus:border-stream-accent focus:outline-none\"\n            >\n              <option value=\"\">Any</option>\n              <option value=\"true\">Loop Friendly</option>\n              <option value=\"false\">Not Loop Friendly</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Clear Filters */}\n        {(Object.keys(filters).length > 0 || searchQuery || selectedCategory) && (\n          <div className=\"mt-4\">\n            <button\n              onClick={clearFilters}\n              className=\"text-stream-accent hover:text-stream-accent/80 text-sm font-medium\"\n            >\n              Clear all filters\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Results Summary */}\n      <div className=\"flex items-center justify-between\">\n        <p className=\"text-gray-400\">\n          Showing {getFilteredTrackCount()} of {getTotalTrackCount()} tracks\n          {selectedCategory && ` in ${getCategoryDisplayName(selectedCategory)}`}\n        </p>\n      </div>\n\n      {/* Tracks Grid/List */}\n      <AnimatePresence mode=\"wait\">\n        {filteredTracks.length === 0 ? (\n          <motion.div\n            key=\"no-results\"\n            className=\"text-center py-20\"\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -20 }}\n          >\n            <div className=\"text-6xl mb-4\">🎵</div>\n            <h3 className=\"text-xl font-semibold text-white mb-2\">No tracks found</h3>\n            <p className=\"text-gray-400 mb-6\">\n              Try adjusting your search or filters to find what you're looking for.\n            </p>\n            <button\n              onClick={clearFilters}\n              className=\"bg-stream-accent hover:bg-stream-accent/90 text-white font-semibold px-6 py-3 rounded-xl transition-all duration-200\"\n            >\n              Clear Filters\n            </button>\n          </motion.div>\n        ) : (\n          <motion.div\n            key=\"tracks-grid\"\n            className={viewMode === 'grid' ? 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6' : 'space-y-4'}\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n          >\n            {filteredTracks.map(track => (\n              <TrackCard\n                key={track.id}\n                track={track}\n                onPlay={handlePlayTrack}\n                onPause={() => setCurrentlyPlaying(null)}\n                isPlaying={currentlyPlaying === track.id}\n              />\n            ))}\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Track Uploader Modal */}\n      <AnimatePresence>\n        {showUploader && (\n          <TrackUploader\n            onTrackUpload={handleTrackUpload}\n            onClose={() => setShowUploader(false)}\n          />\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default EnhancedMusicLibrary;\n"],"mappings":"wIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAqB,OAAO,CAC/D,OAASC,MAAM,CAAEC,eAAe,KAAQ,eAAe,CACvD,OAASC,oBAAoB,CAAEC,sBAAsB,CAAEC,gBAAgB,CAAEC,eAAe,KAAQ,oBAAoB,CAGpH,MAAO,CAAAC,sBAAsB,KAAM,oCAAoC,CACvE,MAAO,CAAAC,aAAa,KAAM,uBAAuB,CACjD,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,SAAS,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAOpC,KAAM,CAAAC,oBAAyD,CAAGC,IAAA,EAAkB,KAAAC,eAAA,CAAAC,aAAA,CAAAC,qBAAA,IAAjB,CAAEC,QAAS,CAAC,CAAAJ,IAAA,CAC7E,KAAM,CAACK,MAAM,CAAEC,SAAS,CAAC,CAAGvB,QAAQ,CAAU,EAAE,CAAC,CACjD,KAAM,CAACwB,cAAc,CAAEC,iBAAiB,CAAC,CAAGzB,QAAQ,CAAU,EAAE,CAAC,CACjE,KAAM,CAAC0B,UAAU,CAAEC,aAAa,CAAC,CAAG3B,QAAQ,CAACI,oBAAoB,CAAC,CAClE,KAAM,CAACwB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAG7B,QAAQ,CAAgB,IAAI,CAAC,CAC7E,KAAM,CAAC8B,WAAW,CAAEC,cAAc,CAAC,CAAG/B,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACgC,OAAO,CAAEC,UAAU,CAAC,CAAGjC,QAAQ,CAAgB,CAAC,CAAC,CAAC,CACzD,KAAM,CAACkC,SAAS,CAAEC,YAAY,CAAC,CAAGnC,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAACoC,YAAY,CAAEC,eAAe,CAAC,CAAGrC,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACsC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGvC,QAAQ,CAAgB,IAAI,CAAC,CAC7E,KAAM,CAACwC,QAAQ,CAAEC,WAAW,CAAC,CAAGzC,QAAQ,CAAkB,MAAM,CAAC,CAEjE;AACAC,SAAS,CAAC,IAAM,CACdyC,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN;AACAzC,SAAS,CAAC,IAAM,CACd0C,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACrB,MAAM,CAAEU,OAAO,CAAEF,WAAW,CAAEF,gBAAgB,CAAC,CAAC,CAEpD,KAAM,CAAAc,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACFP,YAAY,CAAC,IAAI,CAAC,CAClB,KAAM,CAAAS,SAAS,CAAG,KAAM,CAAApC,sBAAsB,CAACqC,YAAY,CAAC,CAAC,CAC7D,KAAM,CAAAC,aAAa,CAAG,KAAM,CAAAtC,sBAAsB,CAACuC,aAAa,CAAC,CAAC,CAElExB,SAAS,CAACqB,SAAS,CAAC,CACpBjB,aAAa,CAACmB,aAAa,CAAC,CAC9B,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CAAC,OAAS,CACRb,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAED,KAAM,CAAAQ,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,GAAI,CAAAO,QAAQ,CAAG,CAAC,GAAG5B,MAAM,CAAC,CAE1B;AACA,GAAIQ,WAAW,CAACqB,IAAI,CAAC,CAAC,CAAE,CACtB,KAAM,CAAAC,aAAa,CAAG,KAAM,CAAA5C,sBAAsB,CAAC6C,YAAY,CAACvB,WAAW,CAAC,CAC5EoB,QAAQ,CAAGE,aAAa,CAC1B,CAEA;AACA,GAAIxB,gBAAgB,CAAE,CACpBsB,QAAQ,CAAGA,QAAQ,CAACI,MAAM,CAACC,KAAK,EAAIA,KAAK,CAACC,QAAQ,GAAK5B,gBAAgB,CAAC,CAC1E,CAEA;AACA,GAAI6B,MAAM,CAACC,IAAI,CAAC1B,OAAO,CAAC,CAAC2B,MAAM,CAAG,CAAC,CAAE,CACnC,KAAM,CAAAC,gBAAgB,CAAG,KAAM,CAAApD,sBAAsB,CAACqD,YAAY,CAAC7B,OAAO,CAAC,CAC3EkB,QAAQ,CAAGA,QAAQ,CAACI,MAAM,CAACC,KAAK,EAC9BK,gBAAgB,CAACE,IAAI,CAACC,EAAE,EAAIA,EAAE,CAACC,EAAE,GAAKT,KAAK,CAACS,EAAE,CAChD,CAAC,CACH,CAEAvC,iBAAiB,CAACyB,QAAQ,CAAC,CAC7B,CAAE,MAAOF,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAClD,CACF,CAAC,CAED,KAAM,CAAAiB,iBAAiB,CAAIC,QAAe,EAAK,CAC7C3C,SAAS,CAAC4C,IAAI,EAAI,CAACD,QAAQ,CAAE,GAAGC,IAAI,CAAC,CAAC,CACtC9B,eAAe,CAAC,KAAK,CAAC,CACxB,CAAC,CAED,KAAM,CAAA+B,eAAe,CAAIb,KAAY,EAAK,CACxC,GAAIjB,gBAAgB,GAAKiB,KAAK,CAACS,EAAE,CAAE,CACjCzB,mBAAmB,CAAC,IAAI,CAAC,CACzB;AACF,CAAC,IAAM,CACLA,mBAAmB,CAACgB,KAAK,CAACS,EAAE,CAAC,CAC7B;AACF,CACF,CAAC,CAED,KAAM,CAAAK,mBAAmB,CAAId,KAAY,EAAK,CAC5C;AACAN,OAAO,CAACqB,GAAG,CAAC,2BAA2B,CAAEf,KAAK,CAACgB,KAAK,CAAC,CACvD,CAAC,CAED,KAAM,CAAAC,eAAe,CAAIjB,KAAY,EAAK,CACxC;AACAN,OAAO,CAACqB,GAAG,CAAC,gBAAgB,CAAEf,KAAK,CAACgB,KAAK,CAAC,CAC5C,CAAC,CAED,KAAM,CAAAE,iBAAiB,CAAG,KAAO,CAAAlB,KAAY,EAAK,CAChD,GAAImB,MAAM,CAACC,OAAO,sCAAAC,MAAA,CAAqCrB,KAAK,CAACgB,KAAK,OAAI,CAAC,CAAE,CACvE,GAAI,CACF,KAAM,CAAA/D,sBAAsB,CAACqE,WAAW,CAACtB,KAAK,CAACS,EAAE,CAAC,CAClDzC,SAAS,CAAC4C,IAAI,EAAIA,IAAI,CAACb,MAAM,CAACwB,CAAC,EAAIA,CAAC,CAACd,EAAE,GAAKT,KAAK,CAACS,EAAE,CAAC,CAAC,CACxD,CAAE,MAAOhB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACjD,CACF,CACF,CAAC,CAED,KAAM,CAAA+B,YAAY,CAAGA,CAAA,GAAM,CACzB9C,UAAU,CAAC,CAAC,CAAC,CAAC,CACdF,cAAc,CAAC,EAAE,CAAC,CAClBF,mBAAmB,CAAC,IAAI,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAmD,qBAAqB,CAAGA,CAAA,GAAM,CAClC,MAAO,CAAAxD,cAAc,CAACmC,MAAM,CAC9B,CAAC,CAED,KAAM,CAAAsB,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,MAAO,CAAA3D,MAAM,CAACqC,MAAM,CACtB,CAAC,CAED,GAAIzB,SAAS,CAAE,CACb,mBACErB,IAAA,QAAKqE,SAAS,CAAC,gDAAgD,CAAAC,QAAA,cAC7DpE,KAAA,QAAKmE,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BtE,IAAA,QAAKqE,SAAS,CAAC,kFAAkF,CAAM,CAAC,cACxGrE,IAAA,MAAGqE,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,0BAAwB,CAAG,CAAC,EACtD,CAAC,CACH,CAAC,CAEV,CAEA,mBACEpE,KAAA,QAAKmE,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBpE,KAAA,QAAKmE,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BtE,IAAA,OAAIqE,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,yCAEnD,CAAI,CAAC,cACLtE,IAAA,MAAGqE,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CAAC,+CAE1C,CAAG,CAAC,cACJpE,KAAA,QAAKmE,SAAS,CAAC,kEAAkE,CAAAC,QAAA,eAC/EpE,KAAA,SAAAoE,QAAA,EAAOF,kBAAkB,CAAC,CAAC,CAAC,mBAAiB,EAAM,CAAC,cACpDpE,IAAA,SAAMqE,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,2BAAoB,CAAM,CAAC,EAC7D,CAAC,EACH,CAAC,cAGNtE,IAAA,CAACF,SAAS,EAACU,QAAQ,CAAEA,QAAS,CAAC+D,YAAY,CAAE,CAAC,QAAQ,CAAE,CAAAD,QAAA,cACtDpE,KAAA,CAACb,MAAM,CAACmF,GAAG,EACTH,SAAS,CAAC,6DAA6D,CACvEI,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,EAAG,CAAE,CAC/BC,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAE,CAAAL,QAAA,eAE9BtE,IAAA,OAAIqE,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,uCAA2B,CAAI,CAAC,cACtFpE,KAAA,QAAKmE,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChDtE,IAAA,WACE6E,OAAO,CAAEA,CAAA,GAAMrD,eAAe,CAAC,IAAI,CAAE,CACrC6C,SAAS,CAAC,sHAAsH,CAAAC,QAAA,CACjI,iBAED,CAAQ,CAAC,cACTtE,IAAA,WAAQqE,SAAS,CAAC,+IAA+I,CAAAC,QAAA,CAAC,0BAElK,CAAQ,CAAC,cACTtE,IAAA,WAAQqE,SAAS,CAAC,+IAA+I,CAAAC,QAAA,CAAC,8BAElK,CAAQ,CAAC,EACN,CAAC,cAENpE,KAAA,QAAKmE,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eACnDtE,IAAA,OAAIqE,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cAC3EtE,IAAA,OAAIqE,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAC5C7D,MAAM,CAACqE,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAACC,GAAG,CAACrC,KAAK,eAC3BxC,KAAA,OAAAoE,QAAA,EAAmB,SAAE,CAAC5B,KAAK,CAACgB,KAAK,CAAC,KAAG,CAACsB,IAAI,CAACC,KAAK,CAACvC,KAAK,CAACwC,QAAQ,CAAG,EAAE,CAAC,CAAC,GAAC,CAAC,CAACxC,KAAK,CAACwC,QAAQ,CAAG,EAAE,EAAEC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAE,GAAG,CAAC,CAAC,KAAG,CAAC1C,KAAK,CAAC2C,MAAM,GAAK,CAAC,CAAG,aAAa,CAAG3C,KAAK,CAAC2C,MAAM,EAAI,CAAC,CAAG,YAAY,CAAG,eAAe,GAA5M3C,KAAK,CAACS,EAA2M,CAC3N,CAAC,CACA,CAAC,EACF,CAAC,EACI,CAAC,CACJ,CAAC,cAGZjD,KAAA,QAAKmE,SAAS,CAAC,6DAA6D,CAAAC,QAAA,eAC1EpE,KAAA,QAAKmE,SAAS,CAAC,sCAAsC,CAAAC,QAAA,eAEnDtE,IAAA,QAAKqE,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACrBtE,IAAA,UACEsF,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,oCAAoC,CAChDC,KAAK,CAAEvE,WAAY,CACnBwE,QAAQ,CAAGC,CAAC,EAAKxE,cAAc,CAACwE,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChDnB,SAAS,CAAC,0JAA0J,CACrK,CAAC,CACC,CAAC,cAGNnE,KAAA,QAAKmE,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CtE,IAAA,WACE6E,OAAO,CAAEA,CAAA,GAAMjD,WAAW,CAAC,MAAM,CAAE,CACnCyC,SAAS,iEAAAN,MAAA,CACPpC,QAAQ,GAAK,MAAM,CACf,6BAA6B,CAC7B,iDAAiD,CACpD,CAAA2C,QAAA,CACJ,mBAED,CAAQ,CAAC,cACTtE,IAAA,WACE6E,OAAO,CAAEA,CAAA,GAAMjD,WAAW,CAAC,MAAM,CAAE,CACnCyC,SAAS,iEAAAN,MAAA,CACPpC,QAAQ,GAAK,MAAM,CACf,6BAA6B,CAC7B,iDAAiD,CACpD,CAAA2C,QAAA,CACJ,mBAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,cAGNpE,KAAA,QAAKmE,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBtE,IAAA,OAAIqE,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,YAAU,CAAI,CAAC,cACrEpE,KAAA,QAAKmE,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCpE,KAAA,WACE2E,OAAO,CAAEA,CAAA,GAAM7D,mBAAmB,CAAC,IAAI,CAAE,CACzCqD,SAAS,iEAAAN,MAAA,CACPhD,gBAAgB,GAAK,IAAI,CACrB,6BAA6B,CAC7B,+EAA+E,CAClF,CAAAuD,QAAA,EACJ,OACM,CAACF,kBAAkB,CAAC,CAAC,CAAC,GAC7B,EAAQ,CAAC,CACRvD,UAAU,CAACkE,GAAG,CAACpC,QAAQ,eACtBzC,KAAA,WAEE2E,OAAO,CAAEA,CAAA,GAAM7D,mBAAmB,CAAC2B,QAAQ,CAACQ,EAAE,CAAE,CAChDkB,SAAS,6FAAAN,MAAA,CACPhD,gBAAgB,GAAK4B,QAAQ,CAACQ,EAAE,CAC5B,6BAA6B,CAC7B,+EAA+E,CAClF,CACHyC,KAAK,CAAE,CACLC,WAAW,CAAE9E,gBAAgB,GAAK4B,QAAQ,CAACQ,EAAE,CAAG,aAAa,CAAG1D,gBAAgB,CAACkD,QAAQ,CAACQ,EAAE,CAC9F,CAAE,CAAAmB,QAAA,eAEFtE,IAAA,SAAAsE,QAAA,CAAO5E,eAAe,CAACiD,QAAQ,CAACQ,EAAE,CAAC,CAAO,CAAC,cAC3CnD,IAAA,SAAAsE,QAAA,CAAO3B,QAAQ,CAACmD,IAAI,CAAO,CAAC,cAC5B5F,KAAA,SAAMmE,SAAS,CAAC,oBAAoB,CAAAC,QAAA,EAAC,GAAC,CAAC3B,QAAQ,CAACoD,UAAU,CAAC,GAAC,EAAM,CAAC,GAb9DpD,QAAQ,CAACQ,EAcR,CACT,CAAC,EACC,CAAC,EACH,CAAC,cAGNjD,KAAA,QAAKmE,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eAEpDpE,KAAA,QAAAoE,QAAA,eACEtE,IAAA,UAAOqE,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,cAAY,CAAO,CAAC,cACpFpE,KAAA,WACEsF,KAAK,CAAE,EAAAnF,eAAA,CAAAc,OAAO,CAACkE,MAAM,UAAAhF,eAAA,iBAAdA,eAAA,CAAgB2F,IAAI,CAAC,GAAG,CAAC,GAAI,EAAG,CACvCP,QAAQ,CAAGC,CAAC,EAAK,CACf,KAAM,CAAAO,MAAM,CAAGP,CAAC,CAACC,MAAM,CAACH,KAAK,CAAGE,CAAC,CAACC,MAAM,CAACH,KAAK,CAACU,KAAK,CAAC,GAAG,CAAC,CAACnB,GAAG,CAACoB,CAAC,EAAIC,QAAQ,CAACD,CAAC,CAAC,CAAC,CAAGE,SAAS,CAC3FjF,UAAU,CAACkC,IAAI,EAAAgD,aAAA,CAAAA,aAAA,IAAUhD,IAAI,MAAE+B,MAAM,CAAEY,MAAM,EAAG,CAAC,CACnD,CAAE,CACF5B,SAAS,CAAC,qIAAqI,CAAAC,QAAA,eAE/ItE,IAAA,WAAQwF,KAAK,CAAC,EAAE,CAAAlB,QAAA,CAAC,YAAU,CAAQ,CAAC,cACpCtE,IAAA,WAAQwF,KAAK,CAAC,KAAK,CAAAlB,QAAA,CAAC,WAAS,CAAQ,CAAC,cACtCtE,IAAA,WAAQwF,KAAK,CAAC,GAAG,CAAAlB,QAAA,CAAC,YAAU,CAAQ,CAAC,cACrCtE,IAAA,WAAQwF,KAAK,CAAC,KAAK,CAAAlB,QAAA,CAAC,YAAU,CAAQ,CAAC,EACjC,CAAC,EACN,CAAC,cAGNpE,KAAA,QAAAoE,QAAA,eACEtE,IAAA,UAAOqE,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,MAAI,CAAO,CAAC,cAC5EpE,KAAA,WACEsF,KAAK,CAAE,EAAAlF,aAAA,CAAAa,OAAO,CAACoF,IAAI,UAAAjG,aAAA,iBAAZA,aAAA,CAAc0F,IAAI,CAAC,GAAG,CAAC,GAAI,EAAG,CACrCP,QAAQ,CAAGC,CAAC,EAAK,CACf,KAAM,CAAAO,MAAM,CAAGP,CAAC,CAACC,MAAM,CAACH,KAAK,CAAGE,CAAC,CAACC,MAAM,CAACH,KAAK,CAACU,KAAK,CAAC,GAAG,CAAC,CAAGG,SAAS,CACrEjF,UAAU,CAACkC,IAAI,EAAAgD,aAAA,CAAAA,aAAA,IAAUhD,IAAI,MAAEiD,IAAI,CAAEN,MAAM,EAAG,CAAC,CACjD,CAAE,CACF5B,SAAS,CAAC,qIAAqI,CAAAC,QAAA,eAE/ItE,IAAA,WAAQwF,KAAK,CAAC,EAAE,CAAAlB,QAAA,CAAC,WAAS,CAAQ,CAAC,cACnCtE,IAAA,WAAQwF,KAAK,CAAC,gBAAgB,CAAAlB,QAAA,CAAC,kBAAgB,CAAQ,CAAC,cACxDtE,IAAA,WAAQwF,KAAK,CAAC,gBAAgB,CAAAlB,QAAA,CAAC,kBAAgB,CAAQ,CAAC,cACxDtE,IAAA,WAAQwF,KAAK,CAAC,iBAAiB,CAAAlB,QAAA,CAAC,mBAAiB,CAAQ,CAAC,cAC1DtE,IAAA,WAAQwF,KAAK,CAAC,WAAW,CAAAlB,QAAA,CAAC,WAAS,CAAQ,CAAC,EACtC,CAAC,EACN,CAAC,cAGNpE,KAAA,QAAAoE,QAAA,eACEtE,IAAA,UAAOqE,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,UAAQ,CAAO,CAAC,cAChFpE,KAAA,WACEsF,KAAK,CAAErE,OAAO,CAAC+D,QAAQ,IAAAnB,MAAA,CAAM5C,OAAO,CAAC+D,QAAQ,CAACsB,GAAG,MAAAzC,MAAA,CAAI5C,OAAO,CAAC+D,QAAQ,CAACuB,GAAG,EAAK,EAAG,CACjFhB,QAAQ,CAAGC,CAAC,EAAK,CACf,GAAIA,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAClB,KAAM,CAACgB,GAAG,CAAEC,GAAG,CAAC,CAAGf,CAAC,CAACC,MAAM,CAACH,KAAK,CAACU,KAAK,CAAC,GAAG,CAAC,CAACnB,GAAG,CAACoB,CAAC,EAAIC,QAAQ,CAACD,CAAC,CAAC,CAAC,CAClE/E,UAAU,CAACkC,IAAI,EAAAgD,aAAA,CAAAA,aAAA,IAAUhD,IAAI,MAAE4B,QAAQ,CAAE,CAAEsB,GAAG,CAAEC,GAAI,CAAC,EAAG,CAAC,CAC3D,CAAC,IAAM,CACLrF,UAAU,CAACkC,IAAI,EAAAgD,aAAA,CAAAA,aAAA,IAAUhD,IAAI,MAAE4B,QAAQ,CAAEmB,SAAS,EAAG,CAAC,CACxD,CACF,CAAE,CACFhC,SAAS,CAAC,qIAAqI,CAAAC,QAAA,eAE/ItE,IAAA,WAAQwF,KAAK,CAAC,EAAE,CAAAlB,QAAA,CAAC,cAAY,CAAQ,CAAC,cACtCtE,IAAA,WAAQwF,KAAK,CAAC,MAAM,CAAAlB,QAAA,CAAC,aAAW,CAAQ,CAAC,cACzCtE,IAAA,WAAQwF,KAAK,CAAC,QAAQ,CAAAlB,QAAA,CAAC,SAAO,CAAQ,CAAC,cACvCtE,IAAA,WAAQwF,KAAK,CAAC,SAAS,CAAAlB,QAAA,CAAC,SAAO,CAAQ,CAAC,cACxCtE,IAAA,WAAQwF,KAAK,CAAC,SAAS,CAAAlB,QAAA,CAAC,UAAQ,CAAQ,CAAC,EACnC,CAAC,EACN,CAAC,cAGNpE,KAAA,QAAAoE,QAAA,eACEtE,IAAA,UAAOqE,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAC,eAAa,CAAO,CAAC,cACrFpE,KAAA,WACEsF,KAAK,CAAE,EAAAjF,qBAAA,CAAAY,OAAO,CAACuF,YAAY,UAAAnG,qBAAA,iBAApBA,qBAAA,CAAsB4E,QAAQ,CAAC,CAAC,GAAI,EAAG,CAC9CM,QAAQ,CAAGC,CAAC,EAAK,CACf,KAAM,CAAAF,KAAK,CAAGE,CAAC,CAACC,MAAM,CAACH,KAAK,GAAK,EAAE,CAAGa,SAAS,CAAGX,CAAC,CAACC,MAAM,CAACH,KAAK,GAAK,MAAM,CAC3EpE,UAAU,CAACkC,IAAI,EAAAgD,aAAA,CAAAA,aAAA,IAAUhD,IAAI,MAAEoD,YAAY,CAAElB,KAAK,EAAG,CAAC,CACxD,CAAE,CACFnB,SAAS,CAAC,qIAAqI,CAAAC,QAAA,eAE/ItE,IAAA,WAAQwF,KAAK,CAAC,EAAE,CAAAlB,QAAA,CAAC,KAAG,CAAQ,CAAC,cAC7BtE,IAAA,WAAQwF,KAAK,CAAC,MAAM,CAAAlB,QAAA,CAAC,eAAa,CAAQ,CAAC,cAC3CtE,IAAA,WAAQwF,KAAK,CAAC,OAAO,CAAAlB,QAAA,CAAC,mBAAiB,CAAQ,CAAC,EAC1C,CAAC,EACN,CAAC,EACH,CAAC,CAGL,CAAC1B,MAAM,CAACC,IAAI,CAAC1B,OAAO,CAAC,CAAC2B,MAAM,CAAG,CAAC,EAAI7B,WAAW,EAAIF,gBAAgB,gBAClEf,IAAA,QAAKqE,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBtE,IAAA,WACE6E,OAAO,CAAEX,YAAa,CACtBG,SAAS,CAAC,oEAAoE,CAAAC,QAAA,CAC/E,mBAED,CAAQ,CAAC,CACN,CACN,EACE,CAAC,cAGNtE,IAAA,QAAKqE,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAChDpE,KAAA,MAAGmE,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,UACnB,CAACH,qBAAqB,CAAC,CAAC,CAAC,MAAI,CAACC,kBAAkB,CAAC,CAAC,CAAC,SAC3D,CAACrD,gBAAgB,SAAAgD,MAAA,CAAWvE,sBAAsB,CAACuB,gBAAgB,CAAC,CAAE,EACrE,CAAC,CACD,CAAC,cAGNf,IAAA,CAACV,eAAe,EAACqH,IAAI,CAAC,MAAM,CAAArC,QAAA,CACzB3D,cAAc,CAACmC,MAAM,GAAK,CAAC,cAC1B5C,KAAA,CAACb,MAAM,CAACmF,GAAG,EAETH,SAAS,CAAC,mBAAmB,CAC7BI,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,EAAG,CAAE,CAC/BC,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAE,CAC9BiC,IAAI,CAAE,CAAElC,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,EAAG,CAAE,CAAAL,QAAA,eAE7BtE,IAAA,QAAKqE,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,cAAE,CAAK,CAAC,cACvCtE,IAAA,OAAIqE,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cAC1EtE,IAAA,MAAGqE,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,uEAElC,CAAG,CAAC,cACJtE,IAAA,WACE6E,OAAO,CAAEX,YAAa,CACtBG,SAAS,CAAC,sHAAsH,CAAAC,QAAA,CACjI,eAED,CAAQ,CAAC,GAhBL,YAiBM,CAAC,cAEbtE,IAAA,CAACX,MAAM,CAACmF,GAAG,EAETH,SAAS,CAAE1C,QAAQ,GAAK,MAAM,CAAG,qEAAqE,CAAG,WAAY,CACrH8C,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAE,CAAE,CACxBE,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAE,CAAE,CACxBkC,IAAI,CAAE,CAAElC,OAAO,CAAE,CAAE,CAAE,CAAAJ,QAAA,CAEpB3D,cAAc,CAACoE,GAAG,CAACrC,KAAK,eACvB1C,IAAA,CAACH,SAAS,EAER6C,KAAK,CAAEA,KAAM,CACbmE,MAAM,CAAEtD,eAAgB,CACxBuD,OAAO,CAAEA,CAAA,GAAMpF,mBAAmB,CAAC,IAAI,CAAE,CACzCqF,SAAS,CAAEtF,gBAAgB,GAAKiB,KAAK,CAACS,EAAG,EAJpCT,KAAK,CAACS,EAKZ,CACF,CAAC,EAdE,aAeM,CACb,CACc,CAAC,cAGlBnD,IAAA,CAACV,eAAe,EAAAgF,QAAA,CACb/C,YAAY,eACXvB,IAAA,CAACJ,aAAa,EACZoH,aAAa,CAAE5D,iBAAkB,CACjC6D,OAAO,CAAEA,CAAA,GAAMzF,eAAe,CAAC,KAAK,CAAE,CACvC,CACF,CACc,CAAC,EACf,CAAC,CAEV,CAAC,CAED,cAAe,CAAArB,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}