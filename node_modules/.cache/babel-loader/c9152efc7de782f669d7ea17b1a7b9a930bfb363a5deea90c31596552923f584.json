{"ast":null,"code":"import{useState,useMemo,useEffect,useCallback}from'react';import{motion}from'framer-motion';// Removed YouTube Audio Library integration ‚Äî migrated to Suno API\nimport{getStreamingCategories,getCategoryDisplayName}from'../services/sunoService';import sunoService from'../services/sunoService';import{runPerformanceDiagnostics}from'../utils/performanceTest';import analyticsService from'../services/analyticsService';import webhookService from'../services/webhookService';import AdminPanel from'./admin/AdminPanel';import{getEnergyLevel}from'../types/track';import AnalyticsDashboard from'./AnalyticsDashboard';import TrackCard from'./TrackCard';// import LightweightTrackCard from './LightweightTrackCard';\nimport UltraLightTrackCard from'./UltraLightTrackCard';// Removed YouTube Audio Library integration ‚Äî migrated to Suno API\nimport SunoGenerator from'./SunoGenerator';import RecentlyGeneratedTracks from'./RecentlyGeneratedTracks';import authService from'../services/authService';// Performance monitoring utilities\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const performanceMonitor={startTime:0,jsonLoadTime:0,trackProcessingTime:0,memoryUsage:0,start(){var _memory;this.startTime=performance.now();console.time('Total Load Time');console.time('JSON Load Time');console.log('Available Memory:',(_memory=performance.memory)===null||_memory===void 0?void 0:_memory.usedJSHeapSize);console.log('JSON File Size Check');},endJsonLoad(){console.timeEnd('JSON Load Time');this.jsonLoadTime=performance.now()-this.startTime;console.time('Track Processing Time');},endTrackProcessing(){var _memory2;console.timeEnd('Track Processing Time');this.trackProcessingTime=performance.now()-this.startTime;console.timeEnd('Total Load Time');this.memoryUsage=((_memory2=performance.memory)===null||_memory2===void 0?void 0:_memory2.usedJSHeapSize)||0;console.log('Final Memory Usage:',this.memoryUsage);}};// Performance configuration for older hardware\nconst PERFORMANCE_CONFIG={INITIAL_BATCH_SIZE:3,// Very small initial load for 2013 MacBook Pro\nLOAD_MORE_BATCH_SIZE:5,// Tiny batches\nVIRTUALIZATION_WINDOW_SIZE:2,// Only 2 visible items\nLAZY_LOAD_DELAY:500,// Much longer delay between batches\nPERFORMANCE_MODE_THRESHOLD:1// Very low threshold\n};// Removed YouTube Audio Library integration ‚Äî migrated to Suno API\n// Sample tracks for fallback (Suno API generated)\nconst SAMPLE_TRACKS=[{id:'sample_1',title:'AI Generated Chill Track',artist:'AI-generated sample track for testing',duration:150,audioUrl:'https://api.sunoapi.org/sample1.mp3',category:'gaming',subcategory:'chill',mood:'chill',energy:2,tags:['ambient','chill','chill_gaming','low'],streamSafe:true,loopFriendly:true,hasIntro:false,hasOutro:false,uploadDate:new Date().toISOString(),uploadedBy:'system',approved:true,// Legacy fields for backward compatibility\nsunoId:'sample1',streamingCategory:'chill_gaming',energyLevel:'low',genre:'ambient',dmcaSafe:true,vodSafe:true,license:'royalty_free',licenseDetails:'Suno AI generated track',platformCompliance:{twitch:'safe',youtube:'safe',facebook:'safe',tiktok:'safe'},usageTracking:{usageCount:0,lastUsed:undefined},agencyNotes:'AI-generated sample track'},{id:'sample_2',title:'AI Generated Energetic Track',artist:'AI-generated energetic track for testing',duration:195,audioUrl:'https://api.sunoapi.org/sample2.mp3',category:'gaming',subcategory:'action',mood:'energetic',energy:4,tags:['electronic','energetic','gaming_action','high'],streamSafe:true,loopFriendly:true,hasIntro:false,hasOutro:false,uploadDate:new Date().toISOString(),uploadedBy:'system',approved:true,// Legacy fields for backward compatibility\nsunoId:'sample2',streamingCategory:'gaming_action',energyLevel:'high',genre:'electronic',dmcaSafe:true,vodSafe:true,license:'royalty_free',licenseDetails:'Suno AI generated track',platformCompliance:{twitch:'safe',youtube:'safe',facebook:'safe',tiktok:'safe'},usageTracking:{usageCount:0,lastUsed:undefined},agencyNotes:'Sample track'}];const StreamSoundboard=()=>{var _memory3;const[searchTerm,setSearchTerm]=useState('');const[selectedMood,setSelectedMood]=useState('all');const[selectedCategory,setSelectedCategory]=useState('all');const[selectedEnergy,setSelectedEnergy]=useState('all');const[tracks,setTracks]=useState([]);const[allTracks,setAllTracks]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[loadedCount,setLoadedCount]=useState(0);const[totalTracks,setTotalTracks]=useState(0);const[showDebugPanel,setShowDebugPanel]=useState(false);// Performance mode state\nconst[performanceMode,setPerformanceMode]=useState('auto');const[virtualizationEnabled,setVirtualizationEnabled]=useState(false);const[visibleTrackRange]=useState({start:0,end:5});// Shared audio state\nconst[currentPlayingTrack,setCurrentPlayingTrack]=useState(null);const[isAudioPlaying,setIsAudioPlaying]=useState(false);const[showSunoGenerator,setShowSunoGenerator]=useState(false);const[showAdminPanel,setShowAdminPanel]=useState(false);// Performance state\nconst[performanceMetrics,setPerformanceMetrics]=useState({jsonLoadTime:0,trackProcessingTime:0,memoryUsage:0,fileSize:'0 KB'});// Check API key status safely\nconst apiKeyStatus=process.env.REACT_APP_YOUTUBE_API_KEY?'‚úÖ Configured':'‚ùå Missing';// Get feature flags for current user\nconst[featureFlags,setFeatureFlags]=useState(null);// Load feature flags for current user\nuseEffect(()=>{const flags=authService.getFeatureFlags();setFeatureFlags(flags);console.log('üîí Feature flags loaded:',flags);},[]);// Detect hardware capabilities and set performance mode\nuseEffect(()=>{const hardwareConcurrency=navigator.hardwareConcurrency||1;const deviceMemory=navigator.deviceMemory||4;// Force low performance mode for 2013 MacBook Pro\nif(performanceMode==='auto'){// 2013 MacBook Pro typically has 2-4 cores, so we'll force low mode\nsetPerformanceMode('low');setVirtualizationEnabled(true);console.log('üîß Forcing low performance mode for 2013 MacBook Pro');console.log(\"\\uD83D\\uDD27 Hardware: \".concat(hardwareConcurrency,\" cores, \").concat(deviceMemory,\"GB RAM\"));}},[performanceMode]);// Debounced search function for performance\nconst debouncedSearch=useCallback(value=>{// simple 300ms debounce per call\nwindow.clearTimeout(debouncedSearch._t);debouncedSearch._t=window.setTimeout(()=>{setSearchTerm(value);if(value.length>0){analyticsService.trackUserInteraction('search_tracks',{searchTerm:value,searchLength:value.length,tracksLoaded:tracks.length});}},300);},[tracks.length]);// Memory-safe loading with batching - optimized for older hardware\nconst loadTracksInBatches=useCallback(async function(allTracksData){let batchSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:PERFORMANCE_CONFIG.INITIAL_BATCH_SIZE;const total=allTracksData.length;setTotalTracks(total);// Load first batch immediately\nconst firstBatch=allTracksData.slice(0,batchSize);setTracks(firstBatch);setLoadedCount(batchSize);// Set up remaining batches\nconst remainingTracks=allTracksData.slice(batchSize);const batches=[];for(let i=0;i<remainingTracks.length;i+=PERFORMANCE_CONFIG.LOAD_MORE_BATCH_SIZE){batches.push(remainingTracks.slice(i,i+PERFORMANCE_CONFIG.LOAD_MORE_BATCH_SIZE));}// Load remaining batches with delay to prevent blocking\nfor(let i=0;i<batches.length;i++){await new Promise(resolve=>setTimeout(resolve,PERFORMANCE_CONFIG.LAZY_LOAD_DELAY));const newBatch=batches[i];setTracks(prev=>[...prev,...newBatch]);setLoadedCount(prev=>prev+newBatch.length);}},[]);// Load curated tracks from YouTube service with performance monitoring\nuseEffect(()=>{const loadTracks=async()=>{try{performanceMonitor.start();// Set timeout for loading\nconst timeout=setTimeout(()=>{setError('Loading is taking longer than expected. This might be due to your device or connection. Try refreshing the page.');// Track timeout in analytics\nanalyticsService.trackPerformanceIssue({type:'timeout',details:'App loading exceeded 10 second timeout',metrics:{timeoutDuration:10000,jsonLoadTime:performanceMonitor.jsonLoadTime,trackProcessingTime:performanceMonitor.trackProcessingTime,totalTime:performance.now()-performanceMonitor.startTime}});setLoading(false);},10000);// Removed YouTube Audio Library integration ‚Äî migrated to Suno API\nconsole.log('üîç Loading tracks from Suno API...');performanceMonitor.endJsonLoad();// For now, use sample tracks until Suno API integration is complete\nlet tracksData=SAMPLE_TRACKS;// Apply plan-based track limits\nif(featureFlags&&featureFlags.maxTracks>0){const maxTracks=featureFlags.maxTracks;if(maxTracks!==-1&&tracksData.length>maxTracks){tracksData=tracksData.slice(0,maxTracks);console.log(\"\\uD83D\\uDD12 Plan limit applied: showing \".concat(maxTracks,\" tracks out of \").concat(SAMPLE_TRACKS.length,\" total\"));}}performanceMonitor.endTrackProcessing();// Update performance metrics\nconst finalMetrics={jsonLoadTime:performanceMonitor.jsonLoadTime,trackProcessingTime:performanceMonitor.trackProcessingTime,memoryUsage:performanceMonitor.memoryUsage,fileSize:'304 KB'// Known file size\n};setPerformanceMetrics(finalMetrics);setAllTracks(tracksData);// Load tracks in batches for better performance\nawait loadTracksInBatches(tracksData);// Track successful app load in analytics\nanalyticsService.trackAppLoad({jsonLoadTime:finalMetrics.jsonLoadTime,trackProcessingTime:finalMetrics.trackProcessingTime,totalLoadTime:performance.now()-performanceMonitor.startTime,tracksLoaded:tracksData.length,totalTracks:tracksData.length,loadSuccess:true});console.log(\"\\u2705 Loaded \".concat(tracksData.length,\" tracks\"));console.log('üîç First few tracks loaded:',tracksData.slice(0,3));console.log('üîç Track sources:',tracksData.map(t=>({id:t.id,title:t.title,sunoId:t.sunoId})));clearTimeout(timeout);}catch(error){console.error('‚ùå Failed to load tracks:',error);setError(\"Unable to load tracks at the moment. Please try refreshing the page.\");// Track error in analytics\nanalyticsService.trackError({type:'track_loading_error',message:error instanceof Error?error.message:'Unknown error',stack:error instanceof Error?error.stack:undefined,context:{tracksRequested:true}});// Track performance issue\nanalyticsService.trackPerformanceIssue({type:'error',details:'Failed to load tracks from JSON file',metrics:{jsonLoadTime:performanceMonitor.jsonLoadTime,trackProcessingTime:performanceMonitor.trackProcessingTime,totalTime:performance.now()-performanceMonitor.startTime}});// Fallback to sample tracks\nconsole.log('üìã Falling back to sample tracks...');setAllTracks(SAMPLE_TRACKS);setTracks(SAMPLE_TRACKS);setLoadedCount(SAMPLE_TRACKS.length);setTotalTracks(SAMPLE_TRACKS.length);}finally{setLoading(false);}};loadTracks();// Cleanup handled where timeout is set\nreturn()=>{};},[loadTracksInBatches,featureFlags]);const moods=['all','chill','epic','energetic','mysterious','uplifting','dark','peaceful'];const categories=['all',...getStreamingCategories()];const energyLevels=['all','low','medium','high'];// Memoized filtered tracks for performance\nconst filteredTracks=useMemo(()=>{return tracks.filter(track=>{const matchesSearch=track.title.toLowerCase().includes(searchTerm.toLowerCase())||track.tags.some(tag=>tag.toLowerCase().includes(searchTerm.toLowerCase()))||track.artist&&track.artist.toLowerCase().includes(searchTerm.toLowerCase());const matchesMood=selectedMood==='all'||track.mood===selectedMood;const matchesCategory=selectedCategory==='all'||track.streamingCategory===selectedCategory;const matchesEnergy=selectedEnergy==='all'||getEnergyLevel(track)===selectedEnergy;return matchesSearch&&matchesMood&&matchesCategory&&matchesEnergy;});},[searchTerm,selectedMood,selectedCategory,selectedEnergy,tracks]);// Virtualized tracks - only show visible range\nconst visibleTracks=useMemo(()=>{if(!virtualizationEnabled){return filteredTracks;}const start=Math.max(0,visibleTrackRange.start);const end=Math.min(filteredTracks.length,visibleTrackRange.end);return filteredTracks.slice(start,end);},[filteredTracks,virtualizationEnabled,visibleTrackRange]);const copyAttribution=()=>{navigator.clipboard.writeText(\"Music by Vivid Soundscapes ‚Äî free for use with credit\");alert(\"Attribution text copied!\");};const formatCategoryName=category=>{if(category==='all')return'All Categories';return getCategoryDisplayName(category);};const handleLoadMore=()=>{const currentCount=tracks.length;const nextBatch=allTracks.slice(currentCount,currentCount+PERFORMANCE_CONFIG.LOAD_MORE_BATCH_SIZE);if(nextBatch.length>0){setTracks(prev=>[...prev,...nextBatch]);setLoadedCount(currentCount+nextBatch.length);// Track user interaction\nanalyticsService.trackUserInteraction('load_more_tracks',{currentCount,newCount:currentCount+nextBatch.length,batchSize:nextBatch.length,totalAvailable:allTracks.length});}};const handleForceReload=()=>{window.location.reload();};const logState=()=>{console.log('Full State:',{tracks,loading,error,loadedCount,totalTracks,performanceMetrics});};const togglePerformanceMode=()=>{const newMode=performanceMode==='low'?'full':'low';setPerformanceMode(newMode);setVirtualizationEnabled(newMode==='low');analyticsService.trackUserInteraction('toggle_performance_mode',{newMode,hardwareConcurrency:navigator.hardwareConcurrency,deviceMemory:navigator.deviceMemory});};const handleTracksGenerated=generatedTracks=>{console.log('üéµ AI-generated tracks received:',generatedTracks.length);// Add generated tracks to the existing library\nsetTracks(prev=>[...prev,...generatedTracks]);setTotalTracks(prev=>prev+generatedTracks.length);// Track analytics\nanalyticsService.trackUserInteraction('ai_tracks_generated',{trackCount:generatedTracks.length,categories:generatedTracks.map(t=>t.streamingCategory)});// Show success message\nalert(\"Successfully generated \".concat(generatedTracks.length,\" AI tracks! They have been added to your library.\"));};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Loading...\"}),loadedCount>0&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mt-2\",children:[loadedCount,\" of \",totalTracks,\" tracks\"]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-4 bg-red-900/50 border border-red-600 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-red-300 text-sm\",children:error})})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-white mb-2\",children:\"Audio Library\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg text-gray-300\",children:[totalTracks,\" tracks available\"]}),featureFlags&&featureFlags.maxTracks>0&&featureFlags.maxTracks!==-1&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-900/30 border border-yellow-500/50 rounded-lg p-3 mt-3 max-w-md mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-400 text-lg\",children:\"\\uD83D\\uDD12\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-yellow-200 font-medium\",children:\"Starter Plan Limit\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-yellow-300 text-sm\",children:[\"Showing \",tracks.length,\" of \",featureFlags.maxTracks,\" tracks. Upgrade to Pro for unlimited access.\"]})]})]})}),sunoService.isDemoMode()&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-900/30 border border-blue-500/50 rounded-lg p-4 mt-4 max-w-2xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-400 text-xl\",children:\"\\uD83C\\uDFB5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-200 font-medium\",children:\"Demo Mode Active\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-300 text-sm\",children:\"You're using sample tracks. To enable AI music generation, set your Suno.ai API key.\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://suno.ai/\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-400 hover:text-blue-300 underline text-sm mt-1 inline-block\",children:\"Get API Key \\u2192\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-2 justify-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{console.log('üß™ Testing Suno API connection...');try{var _env;// Test Suno API connection\nconst response=await fetch('https://api.sunoapi.org/api/v1/generate',{method:'POST',headers:{'Authorization':\"Bearer \".concat(((_env=import.meta.env)===null||_env===void 0?void 0:_env.VITE_SUNO_API_KEY)||process.env.REACT_APP_SUNO_API_KEY),'Content-Type':'application/json'},body:JSON.stringify({prompt:\"Test connection - simple instrumental music\",customMode:false,instrumental:true,model:\"V4\"})});const result=await response.json();console.log('üß™ Suno API test result:',result);alert(\"Suno API test: \".concat(result.code===200?'Success':'Failed',\" - \").concat(result.msg));}catch(error){console.error('üß™ Suno API test error:',error);alert('Suno API test failed - check console for details');}},className:\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm transition-colors\",children:\"\\uD83E\\uDDEA Test Suno API\"}),(featureFlags===null||featureFlags===void 0?void 0:featureFlags.canGenerateSuno)&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSunoGenerator(!showSunoGenerator),className:\"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-sm transition-colors\",children:showSunoGenerator?'üéµ Hide AI Generator':'üéµ Show AI Generator'}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAdminPanel(!showAdminPanel),className:\"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm transition-colors\",children:showAdminPanel?'üîí Hide Admin':'üîí Admin Panel'}),/*#__PURE__*/_jsx(\"button\",{onClick:async()=>{console.log('üîç Performance diagnostics button clicked');// Track performance test interaction\nanalyticsService.trackUserInteraction('run_performance_test',{tracksLoaded:tracks.length,performanceMetrics:performanceMetrics});try{const analysis=await runPerformanceDiagnostics();console.log('üîç Performance analysis complete:',analysis);// Track performance test results\nif(analysis.recommendations.length>0){analyticsService.trackPerformanceIssue({type:'slow_loading',details:\"Performance test completed with \".concat(analysis.recommendations.length,\" recommendations\"),metrics:analysis.testResult});}alert(\"Performance test complete! Check console for details.\\n\\nRecommendations:\\n\".concat(analysis.recommendations.join('\\n')));}catch(error){console.error('üîç Performance diagnostics error:',error);// Track performance test error\nanalyticsService.trackError({type:'performance_test_error',message:error instanceof Error?error.message:'Unknown error',context:{tracksLoaded:tracks.length}});alert('Performance test failed. Check console for details.');}},className:\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm transition-colors\",children:\"\\uD83D\\uDD0D Performance Test\"}),/*#__PURE__*/_jsx(\"button\",{onClick:togglePerformanceMode,className:\"px-4 py-2 rounded-lg text-sm transition-colors \".concat(performanceMode==='low'?'bg-orange-600 hover:bg-orange-700 text-white':'bg-purple-600 hover:bg-purple-700 text-white'),children:performanceMode==='low'?'üöÄ Performance Mode':'‚ö° Low-End Mode'})]})]}),showSunoGenerator&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsx(SunoGenerator,{onTracksGenerated:handleTracksGenerated})}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5,delay:0.2},className:\"max-w-6xl mx-auto p-4 bg-gray-800/50 border border-gray-600 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white\",children:\"\\uD83D\\uDD0D Debug Information\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowDebugPanel(!showDebugPanel),className:\"px-3 py-1 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm transition-colors\",children:[showDebugPanel?'Hide':'Show',\" Debug Panel\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Tracks Loaded:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white ml-2 font-mono\",children:loadedCount})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Total Available:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white ml-2 font-mono\",children:totalTracks})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"API Key Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white ml-2 font-mono\",children:apiKeyStatus})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Performance Mode:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white ml-2 font-mono\",children:performanceMode==='low'?'‚ö° Low-End':performanceMode==='full'?'üöÄ Full':'üîß Auto'})]})]}),showDebugPanel&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-gray-900/50 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Loading Speed:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white ml-2 font-mono\",children:performanceMetrics.jsonLoadTime<1000?'Fast':performanceMetrics.jsonLoadTime<3000?'Normal':'Slow'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Processing:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white ml-2 font-mono\",children:performanceMetrics.trackProcessingTime<1000?'Quick':performanceMetrics.trackProcessingTime<3000?'Standard':'Taking time'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Memory:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white ml-2 font-mono\",children:performanceMetrics.memoryUsage<50*1024*1024?'Low':performanceMetrics.memoryUsage<100*1024*1024?'Normal':'High'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-400\",children:\"Data Size:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white ml-2 font-mono\",children:performanceMetrics.fileSize})]})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 p-2 bg-red-900/50 border border-red-600 rounded text-red-300 text-xs\",children:[\"Issue: \",error]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 text-xs text-gray-400\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"First 3 tracks: \",tracks.slice(0,3).map(t=>\"\".concat(t.title,\" (\").concat(t.sunoId||'Manual Upload',\")\")).join(', ')]})})]}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5,delay:0.1},className:\"space-y-4 max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search tracks by title, tags, or description...\",onChange:e=>debouncedSearch(e.target.value),className:\"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"select\",{value:selectedMood,onChange:e=>{setSelectedMood(e.target.value);analyticsService.trackUserInteraction('filter_mood',{selectedMood:e.target.value,tracksLoaded:tracks.length});},className:\"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-2xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200\",children:moods.map(mood=>/*#__PURE__*/_jsx(\"option\",{value:mood,className:\"bg-gray-800 text-white\",children:mood==='all'?'All Moods':mood.charAt(0).toUpperCase()+mood.slice(1)},mood))}),/*#__PURE__*/_jsx(\"select\",{value:selectedCategory,onChange:e=>setSelectedCategory(e.target.value),className:\"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-2xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200\",children:categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,className:\"bg-gray-800 text-white\",children:category==='all'?'All Categories':formatCategoryName(category)},category))}),/*#__PURE__*/_jsx(\"select\",{value:selectedEnergy,onChange:e=>setSelectedEnergy(e.target.value),className:\"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-2xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200\",children:energyLevels.map(energy=>/*#__PURE__*/_jsx(\"option\",{value:energy,className:\"bg-gray-800 text-white\",children:energy==='all'?'All Energy Levels':energy.charAt(0).toUpperCase()+energy.slice(1)},energy))}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center px-4 py-3 bg-gray-800 border border-gray-600 rounded-2xl\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-white\",children:[filteredTracks.length,\" track\",filteredTracks.length!==1?'s':'']})})]}),loadedCount<totalTracks&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleLoadMore,className:\"px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-medium transition-all duration-200\",children:[\"Load More Tracks (\",loadedCount,\"/\",totalTracks,\")\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white\",children:\"Agency Playlists\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTracks(allTracks),className:\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-all duration-200 text-sm\",children:\"Show All Tracks\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:getStreamingCategories().map(category=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-800 border border-gray-600 rounded-2xl hover:border-blue-500 transition-all duration-200 cursor-pointer\",onClick:()=>{// Filter to show only tracks from this category\nconst categoryTracks=allTracks.filter(track=>track.streamingCategory===category);setTracks(categoryTracks);},children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-white mb-2\",children:getCategoryDisplayName(category)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-400 mb-3\",children:[\"AI-generated tracks for \",getCategoryDisplayName(category).toLowerCase()]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 bg-blue-600 text-white text-xs rounded-full\",children:\"AI Generated\"})})]},category))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white\",children:\"Quick Access\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gradient-to-br from-green-600/20 to-green-800/20 border border-green-600/30 rounded-2xl hover:border-green-500 transition-all duration-200 cursor-pointer\",onClick:()=>{// Filter by most popular tracks\nconst popularTracks=allTracks.slice(0,10);// For now, just show first 10\nsetTracks(popularTracks);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-green-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-white\",children:\"Most Popular\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-400\",children:\"Frequently used tracks\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gradient-to-br from-blue-600/20 to-blue-800/20 border border-blue-600/30 rounded-2xl hover:border-blue-500 transition-all duration-200 cursor-pointer\",onClick:()=>{// Filter by energetic tracks\nconst energeticTracks=allTracks.filter(track=>(track.energy||3)>=4);setTracks(energeticTracks);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-blue-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z\",clipRule:\"evenodd\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-white\",children:\"High Energy\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-400\",children:\"Hype and action music\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gradient-to-br from-purple-600/20 to-purple-800/20 border border-purple-600/30 rounded-2xl hover:border-purple-500 transition-all duration-200 cursor-pointer\",onClick:()=>{// Filter by chill tracks\nconst chillTracks=allTracks.filter(track=>(track.energy||3)<=2);setTracks(chillTracks);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-purple-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z\",clipRule:\"evenodd\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-white\",children:\"Chill Vibes\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-purple-400\",children:\"Relaxed background music\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gradient-to-br from-orange-600/20 to-orange-800/20 border border-orange-600/30 rounded-2xl hover:border-orange-500 transition-all duration-200 cursor-pointer\",onClick:()=>{// Filter by gaming tracks\nconst gamingTracks=allTracks.filter(track=>{var _track$streamingCateg,_track$streamingCateg2;return track.category==='gaming'||((_track$streamingCateg=track.streamingCategory)===null||_track$streamingCateg===void 0?void 0:_track$streamingCateg.includes('gaming'))||((_track$streamingCateg2=track.streamingCategory)===null||_track$streamingCateg2===void 0?void 0:_track$streamingCateg2.includes('action'));});setTracks(gamingTracks);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-orange-400\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-white\",children:\"Gaming\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-orange-400\",children:\"Perfect for gameplay\"})]})]})]})]}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5,delay:0.15},className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:copyAttribution,className:\"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-2xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl\",children:\"Copy Attribution Text\"})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5,delay:0.2},className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:visibleTracks.map((track,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"track-card\",children:performanceMode==='low'?/*#__PURE__*/_jsx(UltraLightTrackCard,{track:track,onPlay:()=>{setCurrentPlayingTrack(track);setIsAudioPlaying(true);},onPause:()=>{setIsAudioPlaying(false);},isPlaying:(currentPlayingTrack===null||currentPlayingTrack===void 0?void 0:currentPlayingTrack.id)===track.id&&isAudioPlaying}):/*#__PURE__*/_jsx(TrackCard,{track:track})},track.id))}),filteredTracks.length===0&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-400\",children:\"No tracks found matching your criteria.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mt-2\",children:\"Try adjusting your filters or search terms.\"})]}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5,delay:0.2},className:\"mb-8\",children:/*#__PURE__*/_jsx(RecentlyGeneratedTracks,{})}),/*#__PURE__*/_jsx(motion.footer,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5,delay:0.3},className:\"text-center py-8\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400\",children:[\"Created by \",/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-500 font-medium\",children:\"Vivid Soundscapes\"})]})}),process.env.NODE_ENV==='development'&&/*#__PURE__*/_jsxs(\"div\",{className:\"debug-panel\",style:{position:'fixed',bottom:0,left:0,background:'rgba(0,0,0,0.8)',color:'white',padding:'10px',fontSize:'12px',zIndex:1000,borderTop:'1px solid #333',borderRight:'1px solid #333'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Tracks: \",loadedCount,\"/\",totalTracks]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Status: \",loading?'Loading...':'Ready']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Memory: \",(((_memory3=performance.memory)===null||_memory3===void 0?void 0:_memory3.usedJSHeapSize)/1024/1024).toFixed(1),\"MB\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Speed: \",performanceMetrics.jsonLoadTime<1000?'Fast':performanceMetrics.jsonLoadTime<3000?'Normal':'Slow']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Processing: \",performanceMetrics.trackProcessingTime<1000?'Quick':performanceMetrics.trackProcessingTime<3000?'Standard':'Slow']}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Mode: \",performanceMode]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleForceReload,style:{background:'#dc2626',color:'white',border:'none',padding:'4px 8px',borderRadius:'4px',fontSize:'10px',marginTop:'4px',cursor:'pointer'},children:\"Force Reload\"}),/*#__PURE__*/_jsx(\"button\",{onClick:logState,style:{background:'#059669',color:'white',border:'none',padding:'4px 8px',borderRadius:'4px',fontSize:'10px',marginTop:'4px',marginLeft:'4px',cursor:'pointer'},children:\"Log State\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>webhookService.triggerTestWebhooks(),style:{background:'#7c3aed',color:'white',border:'none',padding:'4px 8px',borderRadius:'4px',fontSize:'10px',marginTop:'4px',marginLeft:'4px',cursor:'pointer'},children:\"Test Webhooks\"})]}),/*#__PURE__*/_jsx(AnalyticsDashboard,{}),showAdminPanel&&/*#__PURE__*/_jsx(AdminPanel,{onClose:()=>setShowAdminPanel(false)})]});};export default StreamSoundboard;","map":{"version":3,"names":["useState","useMemo","useEffect","useCallback","motion","getStreamingCategories","getCategoryDisplayName","sunoService","runPerformanceDiagnostics","analyticsService","webhookService","AdminPanel","getEnergyLevel","AnalyticsDashboard","TrackCard","UltraLightTrackCard","SunoGenerator","RecentlyGeneratedTracks","authService","jsx","_jsx","jsxs","_jsxs","performanceMonitor","startTime","jsonLoadTime","trackProcessingTime","memoryUsage","start","_memory","performance","now","console","time","log","memory","usedJSHeapSize","endJsonLoad","timeEnd","endTrackProcessing","_memory2","PERFORMANCE_CONFIG","INITIAL_BATCH_SIZE","LOAD_MORE_BATCH_SIZE","VIRTUALIZATION_WINDOW_SIZE","LAZY_LOAD_DELAY","PERFORMANCE_MODE_THRESHOLD","SAMPLE_TRACKS","id","title","artist","duration","audioUrl","category","subcategory","mood","energy","tags","streamSafe","loopFriendly","hasIntro","hasOutro","uploadDate","Date","toISOString","uploadedBy","approved","sunoId","streamingCategory","energyLevel","genre","dmcaSafe","vodSafe","license","licenseDetails","platformCompliance","twitch","youtube","facebook","tiktok","usageTracking","usageCount","lastUsed","undefined","agencyNotes","StreamSoundboard","_memory3","searchTerm","setSearchTerm","selectedMood","setSelectedMood","selectedCategory","setSelectedCategory","selectedEnergy","setSelectedEnergy","tracks","setTracks","allTracks","setAllTracks","loading","setLoading","error","setError","loadedCount","setLoadedCount","totalTracks","setTotalTracks","showDebugPanel","setShowDebugPanel","performanceMode","setPerformanceMode","virtualizationEnabled","setVirtualizationEnabled","visibleTrackRange","end","currentPlayingTrack","setCurrentPlayingTrack","isAudioPlaying","setIsAudioPlaying","showSunoGenerator","setShowSunoGenerator","showAdminPanel","setShowAdminPanel","performanceMetrics","setPerformanceMetrics","fileSize","apiKeyStatus","process","env","REACT_APP_YOUTUBE_API_KEY","featureFlags","setFeatureFlags","flags","getFeatureFlags","hardwareConcurrency","navigator","deviceMemory","concat","debouncedSearch","value","window","clearTimeout","_t","setTimeout","length","trackUserInteraction","searchLength","tracksLoaded","loadTracksInBatches","allTracksData","batchSize","arguments","total","firstBatch","slice","remainingTracks","batches","i","push","Promise","resolve","newBatch","prev","loadTracks","timeout","trackPerformanceIssue","type","details","metrics","timeoutDuration","totalTime","tracksData","maxTracks","finalMetrics","trackAppLoad","totalLoadTime","loadSuccess","map","t","trackError","message","Error","stack","context","tracksRequested","moods","categories","energyLevels","filteredTracks","filter","track","matchesSearch","toLowerCase","includes","some","tag","matchesMood","matchesCategory","matchesEnergy","visibleTracks","Math","max","min","copyAttribution","clipboard","writeText","alert","formatCategoryName","handleLoadMore","currentCount","nextBatch","newCount","totalAvailable","handleForceReload","location","reload","logState","togglePerformanceMode","newMode","handleTracksGenerated","generatedTracks","trackCount","className","children","isDemoMode","href","target","rel","onClick","_env","response","fetch","method","headers","import","meta","VITE_SUNO_API_KEY","REACT_APP_SUNO_API_KEY","body","JSON","stringify","prompt","customMode","instrumental","model","result","json","code","msg","canGenerateSuno","analysis","recommendations","testResult","join","div","initial","opacity","y","animate","transition","onTracksGenerated","delay","placeholder","onChange","e","charAt","toUpperCase","categoryTracks","popularTracks","fill","viewBox","d","energeticTracks","fillRule","clipRule","chillTracks","gamingTracks","_track$streamingCateg","_track$streamingCateg2","index","onPlay","onPause","isPlaying","footer","NODE_ENV","style","position","bottom","left","background","color","padding","fontSize","zIndex","borderTop","borderRight","toFixed","border","borderRadius","marginTop","cursor","marginLeft","triggerTestWebhooks","onClose"],"sources":["/Users/allendunn/Documents/Stream/stream-soundboard/src/components/StreamSoundboard.tsx"],"sourcesContent":["import { useState, useMemo, useEffect, useCallback } from 'react';\nimport { motion } from 'framer-motion';\nimport { StreamingTrack } from '../types/track';\n// Removed YouTube Audio Library integration ‚Äî migrated to Suno API\nimport { getStreamingCategories, getCategoryDisplayName } from '../services/sunoService';\nimport sunoService from '../services/sunoService';\nimport { runPerformanceDiagnostics } from '../utils/performanceTest';\nimport analyticsService from '../services/analyticsService';\nimport webhookService from '../services/webhookService';\nimport AdminPanel from './admin/AdminPanel';\nimport { getEnergyLevel } from '../types/track';\nimport AnalyticsDashboard from './AnalyticsDashboard';\nimport TrackCard from './TrackCard';\n// import LightweightTrackCard from './LightweightTrackCard';\nimport UltraLightTrackCard from './UltraLightTrackCard';\n// Removed YouTube Audio Library integration ‚Äî migrated to Suno API\nimport SunoGenerator from './SunoGenerator';\nimport RecentlyGeneratedTracks from './RecentlyGeneratedTracks';\nimport authService, { FeatureFlags } from '../services/authService';\n\n// Performance monitoring utilities\nconst performanceMonitor = {\n  startTime: 0,\n  jsonLoadTime: 0,\n  trackProcessingTime: 0,\n  memoryUsage: 0,\n  \n  start() {\n    this.startTime = performance.now();\n    console.time('Total Load Time');\n    console.time('JSON Load Time');\n    console.log('Available Memory:', (performance as any).memory?.usedJSHeapSize);\n    console.log('JSON File Size Check');\n  },\n  \n  endJsonLoad() {\n    console.timeEnd('JSON Load Time');\n    this.jsonLoadTime = performance.now() - this.startTime;\n    console.time('Track Processing Time');\n  },\n  \n  endTrackProcessing() {\n    console.timeEnd('Track Processing Time');\n    this.trackProcessingTime = performance.now() - this.startTime;\n    console.timeEnd('Total Load Time');\n    this.memoryUsage = (performance as any).memory?.usedJSHeapSize || 0;\n    console.log('Final Memory Usage:', this.memoryUsage);\n  }\n};\n\n// Performance configuration for older hardware\nconst PERFORMANCE_CONFIG = {\n  INITIAL_BATCH_SIZE: 3, // Very small initial load for 2013 MacBook Pro\n  LOAD_MORE_BATCH_SIZE: 5, // Tiny batches\n  VIRTUALIZATION_WINDOW_SIZE: 2, // Only 2 visible items\n  LAZY_LOAD_DELAY: 500, // Much longer delay between batches\n  PERFORMANCE_MODE_THRESHOLD: 1, // Very low threshold\n};\n\n// Removed YouTube Audio Library integration ‚Äî migrated to Suno API\n// Sample tracks for fallback (Suno API generated)\nconst SAMPLE_TRACKS: StreamingTrack[] = [\n  {\n    id: 'sample_1',\n    title: 'AI Generated Chill Track',\n    artist: 'AI-generated sample track for testing',\n    duration: 150,\n    audioUrl: 'https://api.sunoapi.org/sample1.mp3',\n    category: 'gaming',\n    subcategory: 'chill',\n    mood: 'chill',\n    energy: 2,\n    tags: ['ambient', 'chill', 'chill_gaming', 'low'],\n    streamSafe: true,\n    loopFriendly: true,\n    hasIntro: false,\n    hasOutro: false,\n    uploadDate: new Date().toISOString(),\n    uploadedBy: 'system',\n    approved: true,\n    // Legacy fields for backward compatibility\n    sunoId: 'sample1',\n    streamingCategory: 'chill_gaming',\n    energyLevel: 'low',\n    genre: 'ambient',\n    dmcaSafe: true,\n    vodSafe: true,\n    license: 'royalty_free',\n    licenseDetails: 'Suno AI generated track',\n    platformCompliance: {\n      twitch: 'safe',\n      youtube: 'safe',\n      facebook: 'safe',\n      tiktok: 'safe'\n    },\n    usageTracking: {\n      usageCount: 0,\n      lastUsed: undefined\n    },\n    agencyNotes: 'AI-generated sample track'\n  },\n  {\n    id: 'sample_2',\n    title: 'AI Generated Energetic Track',\n    artist: 'AI-generated energetic track for testing',\n    duration: 195,\n    audioUrl: 'https://api.sunoapi.org/sample2.mp3',\n    category: 'gaming',\n    subcategory: 'action',\n    mood: 'energetic',\n    energy: 4,\n    tags: ['electronic', 'energetic', 'gaming_action', 'high'],\n    streamSafe: true,\n    loopFriendly: true,\n    hasIntro: false,\n    hasOutro: false,\n    uploadDate: new Date().toISOString(),\n    uploadedBy: 'system',\n    approved: true,\n    // Legacy fields for backward compatibility\n    sunoId: 'sample2',\n    streamingCategory: 'gaming_action',\n    energyLevel: 'high',\n    genre: 'electronic',\n    dmcaSafe: true,\n    vodSafe: true,\n    license: 'royalty_free',\n    licenseDetails: 'Suno AI generated track',\n    platformCompliance: {\n      twitch: 'safe',\n      youtube: 'safe',\n      facebook: 'safe',\n      tiktok: 'safe'\n    },\n    usageTracking: {\n      usageCount: 0,\n      lastUsed: undefined\n    },\n    agencyNotes: 'Sample track'\n  }\n];\n\nconst StreamSoundboard: React.FC = () => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedMood, setSelectedMood] = useState<string>('all');\n  const [selectedCategory, setSelectedCategory] = useState<string>('all');\n  const [selectedEnergy, setSelectedEnergy] = useState<string>('all');\n  const [tracks, setTracks] = useState<StreamingTrack[]>([]);\n  const [allTracks, setAllTracks] = useState<StreamingTrack[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [loadedCount, setLoadedCount] = useState(0);\n  const [totalTracks, setTotalTracks] = useState(0);\n  const [showDebugPanel, setShowDebugPanel] = useState(false);\n  \n  // Performance mode state\n  const [performanceMode, setPerformanceMode] = useState<'auto' | 'low' | 'full'>('auto');\n  const [virtualizationEnabled, setVirtualizationEnabled] = useState(false);\n  const [visibleTrackRange] = useState({ start: 0, end: 5 });\n  \n  // Shared audio state\n  const [currentPlayingTrack, setCurrentPlayingTrack] = useState<StreamingTrack | null>(null);\n  const [isAudioPlaying, setIsAudioPlaying] = useState(false);\n  const [showSunoGenerator, setShowSunoGenerator] = useState(false);\n  const [showAdminPanel, setShowAdminPanel] = useState(false);\n  \n  // Performance state\n  const [performanceMetrics, setPerformanceMetrics] = useState({\n    jsonLoadTime: 0,\n    trackProcessingTime: 0,\n    memoryUsage: 0,\n    fileSize: '0 KB'\n  });\n  \n  // Check API key status safely\n  const apiKeyStatus = process.env.REACT_APP_YOUTUBE_API_KEY ? '‚úÖ Configured' : '‚ùå Missing';\n\n  // Get feature flags for current user\n  const [featureFlags, setFeatureFlags] = useState<FeatureFlags | null>(null);\n\n  // Load feature flags for current user\n  useEffect(() => {\n    const flags = authService.getFeatureFlags();\n    setFeatureFlags(flags);\n    console.log('üîí Feature flags loaded:', flags);\n  }, []);\n\n  // Detect hardware capabilities and set performance mode\n  useEffect(() => {\n    const hardwareConcurrency = navigator.hardwareConcurrency || 1;\n    const deviceMemory = (navigator as any).deviceMemory || 4;\n    \n    // Force low performance mode for 2013 MacBook Pro\n    if (performanceMode === 'auto') {\n      // 2013 MacBook Pro typically has 2-4 cores, so we'll force low mode\n      setPerformanceMode('low');\n      setVirtualizationEnabled(true);\n      console.log('üîß Forcing low performance mode for 2013 MacBook Pro');\n      console.log(`üîß Hardware: ${hardwareConcurrency} cores, ${deviceMemory}GB RAM`);\n    }\n  }, [performanceMode]);\n\n  // Debounced search function for performance\n  const debouncedSearch = useCallback((value: string) => {\n    // simple 300ms debounce per call\n    window.clearTimeout((debouncedSearch as any)._t);\n    (debouncedSearch as any)._t = window.setTimeout(() => {\n      setSearchTerm(value);\n      if (value.length > 0) {\n        analyticsService.trackUserInteraction('search_tracks', {\n          searchTerm: value,\n          searchLength: value.length,\n          tracksLoaded: tracks.length\n        });\n      }\n    }, 300);\n  }, [tracks.length]);\n\n  // Memory-safe loading with batching - optimized for older hardware\n  const loadTracksInBatches = useCallback(async (allTracksData: StreamingTrack[], batchSize: number = PERFORMANCE_CONFIG.INITIAL_BATCH_SIZE) => {\n    const total = allTracksData.length;\n    setTotalTracks(total);\n    \n    // Load first batch immediately\n    const firstBatch = allTracksData.slice(0, batchSize);\n    setTracks(firstBatch);\n    setLoadedCount(batchSize);\n    \n    // Set up remaining batches\n    const remainingTracks = allTracksData.slice(batchSize);\n    const batches = [];\n    \n    for (let i = 0; i < remainingTracks.length; i += PERFORMANCE_CONFIG.LOAD_MORE_BATCH_SIZE) {\n      batches.push(remainingTracks.slice(i, i + PERFORMANCE_CONFIG.LOAD_MORE_BATCH_SIZE));\n    }\n    \n    // Load remaining batches with delay to prevent blocking\n    for (let i = 0; i < batches.length; i++) {\n      await new Promise(resolve => setTimeout(resolve, PERFORMANCE_CONFIG.LAZY_LOAD_DELAY));\n      const newBatch = batches[i];\n      setTracks(prev => [...prev, ...newBatch]);\n      setLoadedCount(prev => prev + newBatch.length);\n    }\n  }, []);\n\n  // Load curated tracks from YouTube service with performance monitoring\n  useEffect(() => {\n    const loadTracks = async () => {\n      try {\n        performanceMonitor.start();\n        \n        // Set timeout for loading\n        const timeout = setTimeout(() => {\n          setError('Loading is taking longer than expected. This might be due to your device or connection. Try refreshing the page.');\n          \n          // Track timeout in analytics\n          analyticsService.trackPerformanceIssue({\n            type: 'timeout',\n            details: 'App loading exceeded 10 second timeout',\n            metrics: {\n              timeoutDuration: 10000,\n              jsonLoadTime: performanceMonitor.jsonLoadTime,\n              trackProcessingTime: performanceMonitor.trackProcessingTime,\n              totalTime: performance.now() - performanceMonitor.startTime\n            }\n          });\n          \n          setLoading(false);\n        }, 10000);\n        \n        \n        // Removed YouTube Audio Library integration ‚Äî migrated to Suno API\n        console.log('üîç Loading tracks from Suno API...');\n        \n        performanceMonitor.endJsonLoad();\n        \n        // For now, use sample tracks until Suno API integration is complete\n        let tracksData = SAMPLE_TRACKS;\n        \n        // Apply plan-based track limits\n        if (featureFlags && featureFlags.maxTracks > 0) {\n          const maxTracks = featureFlags.maxTracks;\n          if (maxTracks !== -1 && tracksData.length > maxTracks) {\n            tracksData = tracksData.slice(0, maxTracks);\n            console.log(`üîí Plan limit applied: showing ${maxTracks} tracks out of ${SAMPLE_TRACKS.length} total`);\n          }\n        }\n        \n        performanceMonitor.endTrackProcessing();\n        \n        // Update performance metrics\n        const finalMetrics = {\n          jsonLoadTime: performanceMonitor.jsonLoadTime,\n          trackProcessingTime: performanceMonitor.trackProcessingTime,\n          memoryUsage: performanceMonitor.memoryUsage,\n          fileSize: '304 KB' // Known file size\n        };\n        \n        setPerformanceMetrics(finalMetrics);\n        \n        setAllTracks(tracksData);\n        \n        // Load tracks in batches for better performance\n        await loadTracksInBatches(tracksData);\n        \n        // Track successful app load in analytics\n        analyticsService.trackAppLoad({\n          jsonLoadTime: finalMetrics.jsonLoadTime,\n          trackProcessingTime: finalMetrics.trackProcessingTime,\n          totalLoadTime: performance.now() - performanceMonitor.startTime,\n          tracksLoaded: tracksData.length,\n          totalTracks: tracksData.length,\n          loadSuccess: true\n        });\n        \n        console.log(`‚úÖ Loaded ${tracksData.length} tracks`);\n        console.log('üîç First few tracks loaded:', tracksData.slice(0, 3));\n        console.log('üîç Track sources:', tracksData.map(t => ({ id: t.id, title: t.title, sunoId: t.sunoId })));\n        \n        clearTimeout(timeout);\n        \n      } catch (error) {\n        console.error('‚ùå Failed to load tracks:', error);\n        setError(`Unable to load tracks at the moment. Please try refreshing the page.`);\n        \n        // Track error in analytics\n        analyticsService.trackError({\n          type: 'track_loading_error',\n          message: error instanceof Error ? error.message : 'Unknown error',\n          stack: error instanceof Error ? error.stack : undefined,\n          context: { tracksRequested: true }\n        });\n        \n        // Track performance issue\n        analyticsService.trackPerformanceIssue({\n          type: 'error',\n          details: 'Failed to load tracks from JSON file',\n          metrics: {\n            jsonLoadTime: performanceMonitor.jsonLoadTime,\n            trackProcessingTime: performanceMonitor.trackProcessingTime,\n            totalTime: performance.now() - performanceMonitor.startTime\n          }\n        });\n        \n        // Fallback to sample tracks\n        console.log('üìã Falling back to sample tracks...');\n        setAllTracks(SAMPLE_TRACKS);\n        setTracks(SAMPLE_TRACKS);\n        setLoadedCount(SAMPLE_TRACKS.length);\n        setTotalTracks(SAMPLE_TRACKS.length);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadTracks();\n    \n    // Cleanup handled where timeout is set\n    return () => {};\n  }, [loadTracksInBatches, featureFlags]);\n\n  const moods = ['all', 'chill', 'epic', 'energetic', 'mysterious', 'uplifting', 'dark', 'peaceful'];\n  const categories = ['all', ...getStreamingCategories()];\n  const energyLevels = ['all', 'low', 'medium', 'high'];\n\n  // Memoized filtered tracks for performance\n  const filteredTracks = useMemo(() => {\n    return tracks.filter(track => {\n      const matchesSearch = track.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                           track.tags.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase())) ||\n                           (track.artist && track.artist.toLowerCase().includes(searchTerm.toLowerCase()));\n      const matchesMood = selectedMood === 'all' || track.mood === selectedMood;\n      const matchesCategory = selectedCategory === 'all' || track.streamingCategory === selectedCategory;\n      const matchesEnergy = selectedEnergy === 'all' || getEnergyLevel(track) === selectedEnergy;\n      \n      return matchesSearch && matchesMood && matchesCategory && matchesEnergy;\n    });\n  }, [searchTerm, selectedMood, selectedCategory, selectedEnergy, tracks]);\n\n  // Virtualized tracks - only show visible range\n  const visibleTracks = useMemo(() => {\n    if (!virtualizationEnabled) {\n      return filteredTracks;\n    }\n    \n    const start = Math.max(0, visibleTrackRange.start);\n    const end = Math.min(filteredTracks.length, visibleTrackRange.end);\n    return filteredTracks.slice(start, end);\n  }, [filteredTracks, virtualizationEnabled, visibleTrackRange]);\n\n  const copyAttribution = () => {\n    navigator.clipboard.writeText(\n      \"Music by Vivid Soundscapes ‚Äî free for use with credit\"\n    );\n    alert(\"Attribution text copied!\");\n  };\n\n  const formatCategoryName = (category: string) => {\n    if (category === 'all') return 'All Categories';\n    return getCategoryDisplayName(category);\n  };\n\n  const handleLoadMore = () => {\n    const currentCount = tracks.length;\n    const nextBatch = allTracks.slice(currentCount, currentCount + PERFORMANCE_CONFIG.LOAD_MORE_BATCH_SIZE);\n    if (nextBatch.length > 0) {\n      setTracks(prev => [...prev, ...nextBatch]);\n      setLoadedCount(currentCount + nextBatch.length);\n      \n      // Track user interaction\n      analyticsService.trackUserInteraction('load_more_tracks', {\n        currentCount,\n        newCount: currentCount + nextBatch.length,\n        batchSize: nextBatch.length,\n        totalAvailable: allTracks.length\n      });\n    }\n  };\n\n  const handleForceReload = () => {\n    window.location.reload();\n  };\n\n  const logState = () => {\n    console.log('Full State:', { tracks, loading, error, loadedCount, totalTracks, performanceMetrics });\n  };\n\n  const togglePerformanceMode = () => {\n    const newMode = performanceMode === 'low' ? 'full' : 'low';\n    setPerformanceMode(newMode);\n    setVirtualizationEnabled(newMode === 'low');\n    \n    analyticsService.trackUserInteraction('toggle_performance_mode', {\n      newMode,\n      hardwareConcurrency: navigator.hardwareConcurrency,\n      deviceMemory: (navigator as any).deviceMemory\n    });\n  };\n\n  const handleTracksGenerated = (generatedTracks: StreamingTrack[]) => {\n    console.log('üéµ AI-generated tracks received:', generatedTracks.length);\n    \n    // Add generated tracks to the existing library\n    setTracks(prev => [...prev, ...generatedTracks]);\n    setTotalTracks(prev => prev + generatedTracks.length);\n    \n    // Track analytics\n    analyticsService.trackUserInteraction('ai_tracks_generated', {\n      trackCount: generatedTracks.length,\n      categories: generatedTracks.map(t => t.streamingCategory)\n    });\n    \n    // Show success message\n    alert(`Successfully generated ${generatedTracks.length} AI tracks! They have been added to your library.`);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <p className=\"text-gray-400\">Loading...</p>\n          {loadedCount > 0 && (\n            <p className=\"text-sm text-gray-500 mt-2\">\n              {loadedCount} of {totalTracks} tracks\n            </p>\n          )}\n          {error && (\n            <div className=\"mt-4 p-4 bg-red-900/50 border border-red-600 rounded-lg\">\n              <p className=\"text-red-300 text-sm\">{error}</p>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-8\">\n      {/* Header */}\n      <div className=\"text-center\">\n        <h2 className=\"text-3xl font-bold text-white mb-2\">Audio Library</h2>\n        <p className=\"text-lg text-gray-300\">{totalTracks} tracks available</p>\n        \n        {/* Plan Limit Indicator */}\n        {featureFlags && featureFlags.maxTracks > 0 && featureFlags.maxTracks !== -1 && (\n          <div className=\"bg-yellow-900/30 border border-yellow-500/50 rounded-lg p-3 mt-3 max-w-md mx-auto\">\n            <div className=\"flex items-center justify-center space-x-2\">\n              <span className=\"text-yellow-400 text-lg\">üîí</span>\n              <div className=\"text-center\">\n                <p className=\"text-yellow-200 font-medium\">Starter Plan Limit</p>\n                <p className=\"text-yellow-300 text-sm\">\n                  Showing {tracks.length} of {featureFlags.maxTracks} tracks. Upgrade to Pro for unlimited access.\n                </p>\n              </div>\n            </div>\n          </div>\n        )}\n        \n        {/* Demo Mode Banner */}\n        {sunoService.isDemoMode() && (\n          <div className=\"bg-blue-900/30 border border-blue-500/50 rounded-lg p-4 mt-4 max-w-2xl mx-auto\">\n            <div className=\"flex items-center justify-center space-x-3\">\n              <span className=\"text-blue-400 text-xl\">üéµ</span>\n              <div className=\"text-center\">\n                <p className=\"text-blue-200 font-medium\">Demo Mode Active</p>\n                <p className=\"text-blue-300 text-sm\">\n                  You're using sample tracks. To enable AI music generation, set your Suno.ai API key.\n                </p>\n                <a \n                  href=\"https://suno.ai/\" \n                  target=\"_blank\" \n                  rel=\"noopener noreferrer\"\n                  className=\"text-blue-400 hover:text-blue-300 underline text-sm mt-1 inline-block\"\n                >\n                  Get API Key ‚Üí\n                </a>\n              </div>\n            </div>\n          </div>\n        )}\n        <div className=\"flex gap-2 mt-2 justify-center\">\n          {/* Removed YouTube Audio Library integration ‚Äî migrated to Suno API */}\n          <button\n            onClick={async () => {\n              console.log('üß™ Testing Suno API connection...');\n              try {\n                // Test Suno API connection\n                const response = await fetch('https://api.sunoapi.org/api/v1/generate', {\n                  method: 'POST',\n                  headers: {\n                    'Authorization': `Bearer ${(import.meta as any).env?.VITE_SUNO_API_KEY || process.env.REACT_APP_SUNO_API_KEY}`,\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify({\n                    prompt: \"Test connection - simple instrumental music\",\n                    customMode: false,\n                    instrumental: true,\n                    model: \"V4\"\n                  })\n                });\n                \n                const result = await response.json();\n                console.log('üß™ Suno API test result:', result);\n                alert(`Suno API test: ${result.code === 200 ? 'Success' : 'Failed'} - ${result.msg}`);\n              } catch (error) {\n                console.error('üß™ Suno API test error:', error);\n                alert('Suno API test failed - check console for details');\n              }\n            }}\n            className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm transition-colors\"\n          >\n            üß™ Test Suno API\n          </button>\n          {featureFlags?.canGenerateSuno && (\n            <button\n              onClick={() => setShowSunoGenerator(!showSunoGenerator)}\n              className=\"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg text-sm transition-colors\"\n            >\n              {showSunoGenerator ? 'üéµ Hide AI Generator' : 'üéµ Show AI Generator'}\n            </button>\n          )}\n          <button\n            onClick={() => setShowAdminPanel(!showAdminPanel)}\n            className=\"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm transition-colors\"\n          >\n            {showAdminPanel ? 'üîí Hide Admin' : 'üîí Admin Panel'}\n          </button>\n          <button\n            onClick={async () => {\n              console.log('üîç Performance diagnostics button clicked');\n              \n              // Track performance test interaction\n              analyticsService.trackUserInteraction('run_performance_test', {\n                tracksLoaded: tracks.length,\n                performanceMetrics: performanceMetrics\n              });\n              \n              try {\n                const analysis = await runPerformanceDiagnostics();\n                console.log('üîç Performance analysis complete:', analysis);\n                \n                // Track performance test results\n                if (analysis.recommendations.length > 0) {\n                  analyticsService.trackPerformanceIssue({\n                    type: 'slow_loading',\n                    details: `Performance test completed with ${analysis.recommendations.length} recommendations`,\n                    metrics: analysis.testResult\n                  });\n                }\n                \n                alert(`Performance test complete! Check console for details.\\n\\nRecommendations:\\n${analysis.recommendations.join('\\n')}`);\n              } catch (error) {\n                console.error('üîç Performance diagnostics error:', error);\n                \n                // Track performance test error\n                analyticsService.trackError({\n                  type: 'performance_test_error',\n                  message: error instanceof Error ? error.message : 'Unknown error',\n                  context: { tracksLoaded: tracks.length }\n                });\n                \n                alert('Performance test failed. Check console for details.');\n              }\n            }}\n            className=\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg text-sm transition-colors\"\n          >\n            üîç Performance Test\n          </button>\n          <button\n            onClick={togglePerformanceMode}\n            className={`px-4 py-2 rounded-lg text-sm transition-colors ${\n              performanceMode === 'low' \n                ? 'bg-orange-600 hover:bg-orange-700 text-white' \n                : 'bg-purple-600 hover:bg-purple-700 text-white'\n            }`}\n          >\n            {performanceMode === 'low' ? 'üöÄ Performance Mode' : '‚ö° Low-End Mode'}\n          </button>\n        </div>\n      </div>\n\n      {/* AI Music Generator */}\n      {showSunoGenerator && (\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.5 }}\n          className=\"max-w-4xl mx-auto\"\n        >\n          <SunoGenerator onTracksGenerated={handleTracksGenerated} />\n        </motion.div>\n      )}\n\n      {/* Debug Info */}\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5, delay: 0.2 }}\n        className=\"max-w-6xl mx-auto p-4 bg-gray-800/50 border border-gray-600 rounded-lg\"\n      >\n        <div className=\"flex items-center justify-between mb-2\">\n          <h3 className=\"text-lg font-semibold text-white\">üîç Debug Information</h3>\n          <button\n            onClick={() => setShowDebugPanel(!showDebugPanel)}\n            className=\"px-3 py-1 bg-gray-700 hover:bg-gray-600 text-white rounded text-sm transition-colors\"\n          >\n            {showDebugPanel ? 'Hide' : 'Show'} Debug Panel\n          </button>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm\">\n          <div>\n            <span className=\"text-gray-400\">Tracks Loaded:</span>\n            <span className=\"text-white ml-2 font-mono\">{loadedCount}</span>\n          </div>\n          <div>\n            <span className=\"text-gray-400\">Total Available:</span>\n            <span className=\"text-white ml-2 font-mono\">{totalTracks}</span>\n          </div>\n          <div>\n            <span className=\"text-gray-400\">API Key Status:</span>\n            <span className=\"text-white ml-2 font-mono\">{apiKeyStatus}</span>\n          </div>\n          <div>\n            <span className=\"text-gray-400\">Performance Mode:</span>\n            <span className=\"text-white ml-2 font-mono\">\n              {performanceMode === 'low' ? '‚ö° Low-End' : performanceMode === 'full' ? 'üöÄ Full' : 'üîß Auto'}\n            </span>\n          </div>\n        </div>\n        {showDebugPanel && (\n          <div className=\"mt-4 p-4 bg-gray-900/50 rounded-lg\">\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs\">\n              <div>\n                <span className=\"text-gray-400\">Loading Speed:</span>\n                <span className=\"text-white ml-2 font-mono\">\n                  {performanceMetrics.jsonLoadTime < 1000 ? 'Fast' : \n                   performanceMetrics.jsonLoadTime < 3000 ? 'Normal' : 'Slow'}\n                </span>\n              </div>\n              <div>\n                <span className=\"text-gray-400\">Processing:</span>\n                <span className=\"text-white ml-2 font-mono\">\n                  {performanceMetrics.trackProcessingTime < 1000 ? 'Quick' : \n                   performanceMetrics.trackProcessingTime < 3000 ? 'Standard' : 'Taking time'}\n                </span>\n              </div>\n              <div>\n                <span className=\"text-gray-400\">Memory:</span>\n                <span className=\"text-white ml-2 font-mono\">\n                  {performanceMetrics.memoryUsage < 50 * 1024 * 1024 ? 'Low' : \n                   performanceMetrics.memoryUsage < 100 * 1024 * 1024 ? 'Normal' : 'High'}\n                </span>\n              </div>\n              <div>\n                <span className=\"text-gray-400\">Data Size:</span>\n                <span className=\"text-white ml-2 font-mono\">{performanceMetrics.fileSize}</span>\n              </div>\n            </div>\n            {error && (\n              <div className=\"mt-2 p-2 bg-red-900/50 border border-red-600 rounded text-red-300 text-xs\">\n                Issue: {error}\n              </div>\n            )}\n          </div>\n        )}\n        <div className=\"mt-3 text-xs text-gray-400\">\n          <p>First 3 tracks: {tracks.slice(0, 3).map(t => `${t.title} (${t.sunoId || 'Manual Upload'})`).join(', ')}</p>\n        </div>\n      </motion.div>\n\n      {/* Search and Filters */}\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5, delay: 0.1 }}\n        className=\"space-y-4 max-w-6xl mx-auto\"\n      >\n        {/* Search Bar */}\n        <div className=\"flex-1\">\n          <input\n            type=\"text\"\n            placeholder=\"Search tracks by title, tags, or description...\"\n            onChange={(e) => debouncedSearch(e.target.value)}\n            className=\"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-2xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200\"\n          />\n        </div>\n\n        {/* Filter Controls */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n          {/* Mood Filter */}\n          <select\n            value={selectedMood}\n            onChange={(e) => {\n              setSelectedMood(e.target.value);\n              analyticsService.trackUserInteraction('filter_mood', {\n                selectedMood: e.target.value,\n                tracksLoaded: tracks.length\n              });\n            }}\n            className=\"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-2xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200\"\n          >\n            {moods.map(mood => (\n              <option key={mood} value={mood} className=\"bg-gray-800 text-white\">\n                {mood === 'all' ? 'All Moods' : mood.charAt(0).toUpperCase() + mood.slice(1)}\n              </option>\n            ))}\n          </select>\n\n          {/* Category Filter */}\n          <select\n            value={selectedCategory}\n            onChange={(e) => setSelectedCategory(e.target.value)}\n            className=\"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-2xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200\"\n          >\n            {categories.map(category => (\n              <option key={category} value={category} className=\"bg-gray-800 text-white\">\n                {category === 'all' ? 'All Categories' : formatCategoryName(category)}\n              </option>\n            ))}\n          </select>\n\n          {/* Energy Level Filter */}\n          <select\n            value={selectedEnergy}\n            onChange={(e) => setSelectedEnergy(e.target.value)}\n            className=\"w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-2xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200\"\n          >\n            {energyLevels.map(energy => (\n              <option key={energy} value={energy} className=\"bg-gray-800 text-white\">\n                {energy === 'all' ? 'All Energy Levels' : energy.charAt(0).toUpperCase() + energy.slice(1)}\n              </option>\n            ))}\n          </select>\n\n          {/* Results Count */}\n          <div className=\"flex items-center justify-center px-4 py-3 bg-gray-800 border border-gray-600 rounded-2xl\">\n            <span className=\"text-white\">\n              {filteredTracks.length} track{filteredTracks.length !== 1 ? 's' : ''}\n            </span>\n          </div>\n        </div>\n\n        {/* Load More Button */}\n        {loadedCount < totalTracks && (\n          <div className=\"text-center\">\n            <button\n              onClick={handleLoadMore}\n              className=\"px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-medium transition-all duration-200\"\n            >\n              Load More Tracks ({loadedCount}/{totalTracks})\n            </button>\n          </div>\n        )}\n\n        {/* Agency Playlists */}\n        <div className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-lg font-semibold text-white\">Agency Playlists</h3>\n            <button\n              onClick={() => setTracks(allTracks)}\n              className=\"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-all duration-200 text-sm\"\n            >\n              Show All Tracks\n            </button>\n          </div>\n          {/* Removed YouTube Audio Library integration ‚Äî migrated to Suno API */}\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            {getStreamingCategories().map((category) => (\n              <div\n                key={category}\n                className=\"p-4 bg-gray-800 border border-gray-600 rounded-2xl hover:border-blue-500 transition-all duration-200 cursor-pointer\"\n                onClick={() => {\n                  // Filter to show only tracks from this category\n                  const categoryTracks = allTracks.filter(track => \n                    track.streamingCategory === category\n                  );\n                  setTracks(categoryTracks);\n                }}\n              >\n                <h4 className=\"font-semibold text-white mb-2\">{getCategoryDisplayName(category)}</h4>\n                <p className=\"text-sm text-gray-400 mb-3\">AI-generated tracks for {getCategoryDisplayName(category).toLowerCase()}</p>\n                <div className=\"flex flex-wrap gap-2\">\n                  <span className=\"px-2 py-1 bg-blue-600 text-white text-xs rounded-full\">\n                    AI Generated\n                  </span>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Quick Access Playlists */}\n        <div className=\"space-y-4\">\n          <h3 className=\"text-lg font-semibold text-white\">Quick Access</h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            <div\n              className=\"p-4 bg-gradient-to-br from-green-600/20 to-green-800/20 border border-green-600/30 rounded-2xl hover:border-green-500 transition-all duration-200 cursor-pointer\"\n              onClick={() => {\n                // Filter by most popular tracks\n                const popularTracks = allTracks.slice(0, 10); // For now, just show first 10\n                setTracks(popularTracks);\n              }}\n            >\n              <div className=\"flex items-center gap-2 mb-2\">\n                <svg className=\"w-5 h-5 text-green-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\" />\n                </svg>\n                <span className=\"font-semibold text-white\">Most Popular</span>\n              </div>\n              <p className=\"text-sm text-green-400\">Frequently used tracks</p>\n            </div>\n\n            <div\n              className=\"p-4 bg-gradient-to-br from-blue-600/20 to-blue-800/20 border border-blue-600/30 rounded-2xl hover:border-blue-500 transition-all duration-200 cursor-pointer\"\n              onClick={() => {\n                // Filter by energetic tracks\n                const energeticTracks = allTracks.filter(track => (track.energy || 3) >= 4);\n                setTracks(energeticTracks);\n              }}\n            >\n              <div className=\"flex items-center gap-2 mb-2\">\n                <svg className=\"w-5 h-5 text-blue-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z\" clipRule=\"evenodd\" />\n                </svg>\n                <span className=\"font-semibold text-white\">High Energy</span>\n              </div>\n              <p className=\"text-sm text-blue-400\">Hype and action music</p>\n            </div>\n\n            <div\n              className=\"p-4 bg-gradient-to-br from-purple-600/20 to-purple-800/20 border border-purple-600/30 rounded-2xl hover:border-purple-500 transition-all duration-200 cursor-pointer\"\n              onClick={() => {\n                // Filter by chill tracks\n                const chillTracks = allTracks.filter(track => (track.energy || 3) <= 2);\n                setTracks(chillTracks);\n              }}\n            >\n              <div className=\"flex items-center gap-2 mb-2\">\n                <svg className=\"w-5 h-5 text-purple-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z\" clipRule=\"evenodd\" />\n                </svg>\n                <span className=\"font-semibold text-white\">Chill Vibes</span>\n              </div>\n              <p className=\"text-sm text-purple-400\">Relaxed background music</p>\n            </div>\n\n            <div\n              className=\"p-4 bg-gradient-to-br from-orange-600/20 to-orange-800/20 border border-orange-600/30 rounded-2xl hover:border-orange-500 transition-all duration-200 cursor-pointer\"\n              onClick={() => {\n                // Filter by gaming tracks\n                const gamingTracks = allTracks.filter(track => \n                  (track.category === 'gaming' || track.streamingCategory?.includes('gaming') || \n                  track.streamingCategory?.includes('action'))\n                );\n                setTracks(gamingTracks);\n              }}\n            >\n              <div className=\"flex items-center gap-2 mb-2\">\n                <svg className=\"w-5 h-5 text-orange-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path d=\"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z\" />\n                </svg>\n                <span className=\"font-semibold text-white\">Gaming</span>\n              </div>\n              <p className=\"text-sm text-orange-400\">Perfect for gameplay</p>\n            </div>\n          </div>\n        </div>\n      </motion.div>\n\n      {/* Attribution Copy Button */}\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5, delay: 0.15 }}\n        className=\"text-center\"\n      >\n        <button\n          onClick={copyAttribution}\n          className=\"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-2xl font-medium transition-all duration-200 shadow-lg hover:shadow-xl\"\n        >\n          Copy Attribution Text\n        </button>\n      </motion.div>\n\n      {/* Track Grid */}\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5, delay: 0.2 }}\n        className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\"\n      >\n        {visibleTracks.map((track, index) => (\n          <div key={track.id} className=\"track-card\">\n            {performanceMode === 'low' ? (\n              <UltraLightTrackCard \n                track={track} \n                onPlay={() => {\n                  setCurrentPlayingTrack(track);\n                  setIsAudioPlaying(true);\n                }}\n                onPause={() => {\n                  setIsAudioPlaying(false);\n                }}\n                isPlaying={currentPlayingTrack?.id === track.id && isAudioPlaying}\n              />\n            ) : (\n              <TrackCard track={track} />\n            )}\n          </div>\n        ))}\n        \n        {/* Removed YouTube Audio Library integration ‚Äî migrated to Suno API */}\n        {/* Audio player will be implemented for Suno API tracks */}\n      </motion.div>\n\n      {filteredTracks.length === 0 && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          className=\"text-center py-12\"\n        >\n          <p className=\"text-xl text-gray-400\">No tracks found matching your criteria.</p>\n          <p className=\"text-gray-500 mt-2\">Try adjusting your filters or search terms.</p>\n        </motion.div>\n      )}\n\n      {/* Recently Generated Tracks */}\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5, delay: 0.2 }}\n        className=\"mb-8\"\n      >\n        <RecentlyGeneratedTracks />\n      </motion.div>\n\n      {/* Footer */}\n      <motion.footer\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5, delay: 0.3 }}\n        className=\"text-center py-8\"\n      >\n        <p className=\"text-gray-400\">\n          Created by <span className=\"text-blue-500 font-medium\">Vivid Soundscapes</span>\n        </p>\n      </motion.footer>\n\n      {/* Debug Panel - Only show in development */}\n      {process.env.NODE_ENV === 'development' && (\n        <div \n          className=\"debug-panel\" \n          style={{\n            position: 'fixed', \n            bottom: 0, \n            left: 0, \n            background: 'rgba(0,0,0,0.8)', \n            color: 'white', \n            padding: '10px', \n            fontSize: '12px',\n            zIndex: 1000,\n            borderTop: '1px solid #333',\n            borderRight: '1px solid #333'\n          }}\n        >\n          <div>Tracks: {loadedCount}/{totalTracks}</div>\n          <div>Status: {loading ? 'Loading...' : 'Ready'}</div>\n          <div>Memory: {((performance as any).memory?.usedJSHeapSize / 1024 / 1024).toFixed(1)}MB</div>\n          <div>Speed: {performanceMetrics.jsonLoadTime < 1000 ? 'Fast' : performanceMetrics.jsonLoadTime < 3000 ? 'Normal' : 'Slow'}</div>\n          <div>Processing: {performanceMetrics.trackProcessingTime < 1000 ? 'Quick' : performanceMetrics.trackProcessingTime < 3000 ? 'Standard' : 'Slow'}</div>\n          <div>Mode: {performanceMode}</div>\n          <button \n            onClick={handleForceReload}\n            style={{\n              background: '#dc2626',\n              color: 'white',\n              border: 'none',\n              padding: '4px 8px',\n              borderRadius: '4px',\n              fontSize: '10px',\n              marginTop: '4px',\n              cursor: 'pointer'\n            }}\n          >\n            Force Reload\n          </button>\n          <button \n            onClick={logState}\n            style={{\n              background: '#059669',\n              color: 'white',\n              border: 'none',\n              padding: '4px 8px',\n              borderRadius: '4px',\n              fontSize: '10px',\n              marginTop: '4px',\n              marginLeft: '4px',\n              cursor: 'pointer'\n            }}\n          >\n            Log State\n          </button>\n          <button \n            onClick={() => webhookService.triggerTestWebhooks()}\n            style={{\n              background: '#7c3aed',\n              color: 'white',\n              border: 'none',\n              padding: '4px 8px',\n              borderRadius: '4px',\n              fontSize: '10px',\n              marginTop: '4px',\n              marginLeft: '4px',\n              cursor: 'pointer'\n            }}\n          >\n            Test Webhooks\n          </button>\n        </div>\n      )}\n\n      {/* Analytics Dashboard - Development Only */}\n      <AnalyticsDashboard />\n\n      {/* Admin Panel */}\n      {showAdminPanel && (\n        <AdminPanel onClose={() => setShowAdminPanel(false)} />\n      )}\n    </div>\n  );\n};\n\nexport default StreamSoundboard;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}