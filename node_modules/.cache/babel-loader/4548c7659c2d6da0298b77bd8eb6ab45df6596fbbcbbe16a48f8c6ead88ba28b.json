{"ast":null,"code":"import _objectSpread from\"/Users/allendunn/Documents/Stream/stream-soundboard/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{motion,AnimatePresence}from'framer-motion';import{STREAMING_CATEGORIES,getCategoryDisplayName,getCategoryColor,getCategoryIcon}from'../data/categories';import trackManagementService from'../services/trackManagementService';import TrackCard from'./TrackCard';import RoleGuard from'./RoleGuard';import TrackUploader from'./admin/TrackUploader';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EnhancedMusicLibrary=_ref=>{var _filters$energy,_filters$mood,_filters$loopFriendly;let{userRole}=_ref;const[tracks,setTracks]=useState([]);const[filteredTracks,setFilteredTracks]=useState([]);const[categories,setCategories]=useState(STREAMING_CATEGORIES);const[selectedCategory,setSelectedCategory]=useState(null);const[searchQuery,setSearchQuery]=useState('');const[filters,setFilters]=useState({});const[isLoading,setIsLoading]=useState(true);const[showUploader,setShowUploader]=useState(false);const[currentlyPlaying,setCurrentlyPlaying]=useState(null);const[viewMode,setViewMode]=useState('grid');// Load tracks on component mount\nuseEffect(()=>{loadTracks();},[]);// Filter tracks when filters change\nuseEffect(()=>{applyFilters();},[tracks,filters,searchQuery,selectedCategory]);const loadTracks=async()=>{try{setIsLoading(true);const allTracks=await trackManagementService.getAllTracks();const allCategories=await trackManagementService.getCategories();setTracks(allTracks);setCategories(allCategories);}catch(error){console.error('Failed to load tracks:',error);}finally{setIsLoading(false);}};const applyFilters=useCallback(async()=>{try{let filtered=[...tracks];// Apply search query\nif(searchQuery.trim()){const searchResults=await trackManagementService.searchTracks(searchQuery);filtered=searchResults;}// Apply category filter\nif(selectedCategory){filtered=filtered.filter(track=>track.category===selectedCategory);}// Apply advanced filters\nif(Object.keys(filters).length>0){const advancedFiltered=await trackManagementService.filterTracks(filters);filtered=filtered.filter(track=>advancedFiltered.some(ft=>ft.id===track.id));}setFilteredTracks(filtered);}catch(error){console.error('Failed to apply filters:',error);}},[tracks,filters,searchQuery,selectedCategory]);const handleTrackUpload=newTrack=>{setTracks(prev=>[newTrack,...prev]);setShowUploader(false);};const handlePlayTrack=track=>{if(currentlyPlaying===track.id){setCurrentlyPlaying(null);// Stop audio logic here\n}else{setCurrentlyPlaying(track.id);// Play audio logic here\n}};const clearFilters=()=>{setFilters({});setSearchQuery('');setSelectedCategory(null);};const getFilteredTrackCount=()=>{return filteredTracks.length;};const getTotalTrackCount=()=>{return tracks.length;};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-[400px]\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-stream-accent mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Loading music library...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold text-white mb-2\",children:\"\\uD83C\\uDFB5 Professional Music Library\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl text-gray-400 mb-4\",children:\"Hand-curated royalty-free music for streamers\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-4 text-sm text-gray-500\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[getTotalTrackCount(),\" tracks available\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-stream-accent\",children:\"\\u2B50 Premium Collection\"})]})]}),/*#__PURE__*/_jsx(RoleGuard,{userRole:userRole,allowedRoles:['agency'],children:/*#__PURE__*/_jsxs(motion.div,{className:\"bg-stream-gray rounded-xl p-6 border border-stream-light/20\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-white mb-4\",children:\"\\uD83D\\uDCC1 Track Library Management\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowUploader(true),className:\"bg-stream-accent hover:bg-stream-accent/90 text-white font-semibold px-6 py-3 rounded-xl transition-all duration-200\",children:\"+ Add New Track\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-stream-gray border border-stream-light/30 hover:bg-stream-light/20 text-white font-medium px-6 py-3 rounded-xl transition-all duration-200\",children:\"\\uD83D\\uDCC1 Bulk Upload\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-stream-gray border border-stream-light/30 hover:bg-stream-light/20 text-white font-medium px-6 py-3 rounded-xl transition-all duration-200\",children:\"\\uD83C\\uDFB5 Import Playlist\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 p-4 bg-stream-darker rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-300 mb-2\",children:\"Recently Added:\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"text-sm text-gray-400 space-y-1\",children:tracks.slice(0,3).map(track=>/*#__PURE__*/_jsxs(\"li\",{children:[\"\\u2022 \",track.title,\" - \",Math.floor(track.duration/60),\":\",(track.duration%60).toString().padStart(2,'0'),\" - \",track.energy===5?'High Energy':track.energy<=2?'Low Energy':'Medium Energy']},track.id))})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-stream-gray rounded-xl p-6 border border-stream-light/20\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col lg:flex-row gap-4 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search tracks, artists, or tags...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-stream-accent focus:outline-none\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('grid'),className:\"px-4 py-3 rounded-lg font-medium transition-all duration-200 \".concat(viewMode==='grid'?'bg-stream-accent text-white':'bg-stream-darker text-gray-400 hover:text-white'),children:\"\\uD83D\\uDCF1 Grid\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setViewMode('list'),className:\"px-4 py-3 rounded-lg font-medium transition-all duration-200 \".concat(viewMode==='list'?'bg-stream-accent text-white':'bg-stream-darker text-gray-400 hover:text-white'),children:\"\\uD83D\\uDCCB List\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white mb-4\",children:\"Categories\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedCategory(null),className:\"px-4 py-2 rounded-lg font-medium transition-all duration-200 \".concat(selectedCategory===null?'bg-stream-accent text-white':'bg-stream-darker text-gray-400 hover:text-white border border-stream-light/20'),children:[\"All (\",getTotalTrackCount(),\")\"]}),categories.map(category=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedCategory(category.id),className:\"px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2 \".concat(selectedCategory===category.id?'bg-stream-accent text-white':'bg-stream-darker text-gray-400 hover:text-white border border-stream-light/20'),style:{borderColor:selectedCategory===category.id?'transparent':getCategoryColor(category.id)},children:[/*#__PURE__*/_jsx(\"span\",{children:getCategoryIcon(category.id)}),/*#__PURE__*/_jsx(\"span\",{children:category.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs opacity-75\",children:[\"(\",category.trackCount,\")\"]})]},category.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Energy Level\"}),/*#__PURE__*/_jsxs(\"select\",{value:((_filters$energy=filters.energy)===null||_filters$energy===void 0?void 0:_filters$energy.join(','))||'',onChange:e=>{const values=e.target.value?e.target.value.split(',').map(v=>parseInt(v)):undefined;setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{energy:values}));},className:\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-3 py-2 text-white focus:border-stream-accent focus:outline-none\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Levels\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1,2\",children:\"Low (1-2)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"Medium (3)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4,5\",children:\"High (4-5)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Mood\"}),/*#__PURE__*/_jsxs(\"select\",{value:((_filters$mood=filters.mood)===null||_filters$mood===void 0?void 0:_filters$mood.join(','))||'',onChange:e=>{const values=e.target.value?e.target.value.split(','):undefined;setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{mood:values}));},className:\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-3 py-2 text-white focus:border-stream-accent focus:outline-none\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Moods\"}),/*#__PURE__*/_jsx(\"option\",{value:\"chill,peaceful\",children:\"Chill & Peaceful\"}),/*#__PURE__*/_jsx(\"option\",{value:\"epic,energetic\",children:\"Epic & Energetic\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mysterious,dark\",children:\"Mysterious & Dark\"}),/*#__PURE__*/_jsx(\"option\",{value:\"uplifting\",children:\"Uplifting\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Duration\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.duration?\"\".concat(filters.duration.min,\"-\").concat(filters.duration.max):'',onChange:e=>{if(e.target.value){const[min,max]=e.target.value.split('-').map(v=>parseInt(v));setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{duration:{min,max}}));}else{setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{duration:undefined}));}},className:\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-3 py-2 text-white focus:border-stream-accent focus:outline-none\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Any Duration\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0-60\",children:\"Under 1 min\"}),/*#__PURE__*/_jsx(\"option\",{value:\"60-180\",children:\"1-3 min\"}),/*#__PURE__*/_jsx(\"option\",{value:\"180-300\",children:\"3-5 min\"}),/*#__PURE__*/_jsx(\"option\",{value:\"300-600\",children:\"5-10 min\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"Loop Friendly\"}),/*#__PURE__*/_jsxs(\"select\",{value:((_filters$loopFriendly=filters.loopFriendly)===null||_filters$loopFriendly===void 0?void 0:_filters$loopFriendly.toString())||'',onChange:e=>{const value=e.target.value===''?undefined:e.target.value==='true';setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{loopFriendly:value}));},className:\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-3 py-2 text-white focus:border-stream-accent focus:outline-none\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Any\"}),/*#__PURE__*/_jsx(\"option\",{value:\"true\",children:\"Loop Friendly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"false\",children:\"Not Loop Friendly\"})]})]})]}),(Object.keys(filters).length>0||searchQuery||selectedCategory)&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"button\",{onClick:clearFilters,className:\"text-stream-accent hover:text-stream-accent/80 text-sm font-medium\",children:\"Clear all filters\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400\",children:[\"Showing \",getFilteredTrackCount(),\" of \",getTotalTrackCount(),\" tracks\",selectedCategory&&\" in \".concat(getCategoryDisplayName(selectedCategory))]})}),/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",children:filteredTracks.length===0?/*#__PURE__*/_jsxs(motion.div,{className:\"text-center py-20\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl mb-4\",children:\"\\uD83C\\uDFB5\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-white mb-2\",children:\"No tracks found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 mb-6\",children:\"Try adjusting your search or filters to find what you're looking for.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearFilters,className:\"bg-stream-accent hover:bg-stream-accent/90 text-white font-semibold px-6 py-3 rounded-xl transition-all duration-200\",children:\"Clear Filters\"})]},\"no-results\"):/*#__PURE__*/_jsx(motion.div,{className:viewMode==='grid'?'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6':'space-y-4',initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:filteredTracks.map(track=>/*#__PURE__*/_jsx(TrackCard,{track:track,onPlay:handlePlayTrack,onPause:()=>setCurrentlyPlaying(null),isPlaying:currentlyPlaying===track.id},track.id))},\"tracks-grid\")}),/*#__PURE__*/_jsx(AnimatePresence,{children:showUploader&&/*#__PURE__*/_jsx(TrackUploader,{onTrackUpload:handleTrackUpload,onClose:()=>setShowUploader(false)})})]});};export default EnhancedMusicLibrary;","map":{"version":3,"names":["React","useState","useEffect","useCallback","motion","AnimatePresence","STREAMING_CATEGORIES","getCategoryDisplayName","getCategoryColor","getCategoryIcon","trackManagementService","TrackCard","RoleGuard","TrackUploader","jsx","_jsx","jsxs","_jsxs","EnhancedMusicLibrary","_ref","_filters$energy","_filters$mood","_filters$loopFriendly","userRole","tracks","setTracks","filteredTracks","setFilteredTracks","categories","setCategories","selectedCategory","setSelectedCategory","searchQuery","setSearchQuery","filters","setFilters","isLoading","setIsLoading","showUploader","setShowUploader","currentlyPlaying","setCurrentlyPlaying","viewMode","setViewMode","loadTracks","applyFilters","allTracks","getAllTracks","allCategories","getCategories","error","console","filtered","trim","searchResults","searchTracks","filter","track","category","Object","keys","length","advancedFiltered","filterTracks","some","ft","id","handleTrackUpload","newTrack","prev","handlePlayTrack","clearFilters","getFilteredTrackCount","getTotalTrackCount","className","children","allowedRoles","div","initial","opacity","y","animate","onClick","slice","map","title","Math","floor","duration","toString","padStart","energy","type","placeholder","value","onChange","e","target","concat","style","borderColor","name","trackCount","join","values","split","v","parseInt","undefined","_objectSpread","mood","min","max","loopFriendly","mode","exit","onPlay","onPause","isPlaying","onTrackUpload","onClose"],"sources":["/Users/allendunn/Documents/Stream/stream-soundboard/src/components/EnhancedMusicLibrary.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Track, FilterOptions } from '../types/track';\nimport { UserRole } from '../types/agency';\nimport { STREAMING_CATEGORIES, getCategoryDisplayName, getCategoryColor, getCategoryIcon } from '../data/categories';\nimport trackManagementService from '../services/trackManagementService';\nimport TrackCard from './TrackCard';\nimport RoleGuard from './RoleGuard';\nimport TrackUploader from './admin/TrackUploader';\n\ninterface EnhancedMusicLibraryProps {\n  userRole: UserRole;\n}\n\nconst EnhancedMusicLibrary: React.FC<EnhancedMusicLibraryProps> = ({ userRole }) => {\n  const [tracks, setTracks] = useState<Track[]>([]);\n  const [filteredTracks, setFilteredTracks] = useState<Track[]>([]);\n  const [categories, setCategories] = useState(STREAMING_CATEGORIES);\n  const [selectedCategory, setSelectedCategory] = useState<string | null>(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filters, setFilters] = useState<FilterOptions>({});\n  const [isLoading, setIsLoading] = useState(true);\n  const [showUploader, setShowUploader] = useState(false);\n  const [currentlyPlaying, setCurrentlyPlaying] = useState<string | null>(null);\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n\n  // Load tracks on component mount\n  useEffect(() => {\n    loadTracks();\n  }, []);\n\n  // Filter tracks when filters change\n  useEffect(() => {\n    applyFilters();\n  }, [tracks, filters, searchQuery, selectedCategory]);\n\n  const loadTracks = async () => {\n    try {\n      setIsLoading(true);\n      const allTracks = await trackManagementService.getAllTracks();\n      const allCategories = await trackManagementService.getCategories();\n      \n      setTracks(allTracks);\n      setCategories(allCategories);\n    } catch (error) {\n      console.error('Failed to load tracks:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const applyFilters = useCallback(async () => {\n    try {\n      let filtered = [...tracks];\n\n      // Apply search query\n      if (searchQuery.trim()) {\n        const searchResults = await trackManagementService.searchTracks(searchQuery);\n        filtered = searchResults;\n      }\n\n      // Apply category filter\n      if (selectedCategory) {\n        filtered = filtered.filter(track => track.category === selectedCategory);\n      }\n\n      // Apply advanced filters\n      if (Object.keys(filters).length > 0) {\n        const advancedFiltered = await trackManagementService.filterTracks(filters);\n        filtered = filtered.filter(track => \n          advancedFiltered.some(ft => ft.id === track.id)\n        );\n      }\n\n      setFilteredTracks(filtered);\n    } catch (error) {\n      console.error('Failed to apply filters:', error);\n    }\n  }, [tracks, filters, searchQuery, selectedCategory]);\n\n  const handleTrackUpload = (newTrack: Track) => {\n    setTracks(prev => [newTrack, ...prev]);\n    setShowUploader(false);\n  };\n\n  const handlePlayTrack = (track: Track) => {\n    if (currentlyPlaying === track.id) {\n      setCurrentlyPlaying(null);\n      // Stop audio logic here\n    } else {\n      setCurrentlyPlaying(track.id);\n      // Play audio logic here\n    }\n  };\n\n\n\n  const clearFilters = () => {\n    setFilters({});\n    setSearchQuery('');\n    setSelectedCategory(null);\n  };\n\n  const getFilteredTrackCount = () => {\n    return filteredTracks.length;\n  };\n\n  const getTotalTrackCount = () => {\n    return tracks.length;\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[400px]\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-stream-accent mx-auto mb-4\"></div>\n          <p className=\"text-gray-400\">Loading music library...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"text-center\">\n        <h1 className=\"text-4xl font-bold text-white mb-2\">\n          🎵 Professional Music Library\n        </h1>\n        <p className=\"text-xl text-gray-400 mb-4\">\n          Hand-curated royalty-free music for streamers\n        </p>\n        <div className=\"flex items-center justify-center space-x-4 text-sm text-gray-500\">\n          <span>{getTotalTrackCount()} tracks available</span>\n          <span className=\"text-stream-accent\">⭐ Premium Collection</span>\n        </div>\n      </div>\n\n      {/* Admin Controls - Agency Only */}\n      <RoleGuard userRole={userRole} allowedRoles={['agency']}>\n        <motion.div\n          className=\"bg-stream-gray rounded-xl p-6 border border-stream-light/20\"\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n        >\n          <h3 className=\"text-xl font-semibold text-white mb-4\">📁 Track Library Management</h3>\n          <div className=\"flex flex-wrap items-center gap-4\">\n            <button\n              onClick={() => setShowUploader(true)}\n              className=\"bg-stream-accent hover:bg-stream-accent/90 text-white font-semibold px-6 py-3 rounded-xl transition-all duration-200\"\n            >\n              + Add New Track\n            </button>\n            <button className=\"bg-stream-gray border border-stream-light/30 hover:bg-stream-light/20 text-white font-medium px-6 py-3 rounded-xl transition-all duration-200\">\n              📁 Bulk Upload\n            </button>\n            <button className=\"bg-stream-gray border border-stream-light/30 hover:bg-stream-light/20 text-white font-medium px-6 py-3 rounded-xl transition-all duration-200\">\n              🎵 Import Playlist\n            </button>\n          </div>\n          \n          <div className=\"mt-4 p-4 bg-stream-darker rounded-lg\">\n            <h4 className=\"text-sm font-medium text-gray-300 mb-2\">Recently Added:</h4>\n            <ul className=\"text-sm text-gray-400 space-y-1\">\n              {tracks.slice(0, 3).map(track => (\n                <li key={track.id}>• {track.title} - {Math.floor(track.duration / 60)}:{(track.duration % 60).toString().padStart(2, '0')} - {track.energy === 5 ? 'High Energy' : track.energy <= 2 ? 'Low Energy' : 'Medium Energy'}</li>\n              ))}\n            </ul>\n          </div>\n        </motion.div>\n      </RoleGuard>\n\n      {/* Search and Filters */}\n      <div className=\"bg-stream-gray rounded-xl p-6 border border-stream-light/20\">\n        <div className=\"flex flex-col lg:flex-row gap-4 mb-6\">\n          {/* Search */}\n          <div className=\"flex-1\">\n            <input\n              type=\"text\"\n              placeholder=\"Search tracks, artists, or tags...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-stream-accent focus:outline-none\"\n            />\n          </div>\n\n          {/* View Mode Toggle */}\n          <div className=\"flex items-center space-x-2\">\n            <button\n              onClick={() => setViewMode('grid')}\n              className={`px-4 py-3 rounded-lg font-medium transition-all duration-200 ${\n                viewMode === 'grid'\n                  ? 'bg-stream-accent text-white'\n                  : 'bg-stream-darker text-gray-400 hover:text-white'\n              }`}\n            >\n              📱 Grid\n            </button>\n            <button\n              onClick={() => setViewMode('list')}\n              className={`px-4 py-3 rounded-lg font-medium transition-all duration-200 ${\n                viewMode === 'list'\n                  ? 'bg-stream-accent text-white'\n                  : 'bg-stream-darker text-gray-400 hover:text-white'\n              }`}\n            >\n              📋 List\n            </button>\n          </div>\n        </div>\n\n        {/* Category Filter */}\n        <div className=\"mb-6\">\n          <h3 className=\"text-lg font-semibold text-white mb-4\">Categories</h3>\n          <div className=\"flex flex-wrap gap-3\">\n            <button\n              onClick={() => setSelectedCategory(null)}\n              className={`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${\n                selectedCategory === null\n                  ? 'bg-stream-accent text-white'\n                  : 'bg-stream-darker text-gray-400 hover:text-white border border-stream-light/20'\n              }`}\n            >\n              All ({getTotalTrackCount()})\n            </button>\n            {categories.map(category => (\n              <button\n                key={category.id}\n                onClick={() => setSelectedCategory(category.id)}\n                className={`px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center space-x-2 ${\n                  selectedCategory === category.id\n                    ? 'bg-stream-accent text-white'\n                    : 'bg-stream-darker text-gray-400 hover:text-white border border-stream-light/20'\n                }`}\n                style={{\n                  borderColor: selectedCategory === category.id ? 'transparent' : getCategoryColor(category.id)\n                }}\n              >\n                <span>{getCategoryIcon(category.id)}</span>\n                <span>{category.name}</span>\n                <span className=\"text-xs opacity-75\">({category.trackCount})</span>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Advanced Filters */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          {/* Energy Level */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Energy Level</label>\n            <select\n              value={filters.energy?.join(',') || ''}\n              onChange={(e) => {\n                const values = e.target.value ? e.target.value.split(',').map(v => parseInt(v)) : undefined;\n                setFilters(prev => ({ ...prev, energy: values }));\n              }}\n              className=\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-3 py-2 text-white focus:border-stream-accent focus:outline-none\"\n            >\n              <option value=\"\">All Levels</option>\n              <option value=\"1,2\">Low (1-2)</option>\n              <option value=\"3\">Medium (3)</option>\n              <option value=\"4,5\">High (4-5)</option>\n            </select>\n          </div>\n\n          {/* Mood */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Mood</label>\n            <select\n              value={filters.mood?.join(',') || ''}\n              onChange={(e) => {\n                const values = e.target.value ? e.target.value.split(',') : undefined;\n                setFilters(prev => ({ ...prev, mood: values }));\n              }}\n              className=\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-3 py-2 text-white focus:border-stream-accent focus:outline-none\"\n            >\n              <option value=\"\">All Moods</option>\n              <option value=\"chill,peaceful\">Chill & Peaceful</option>\n              <option value=\"epic,energetic\">Epic & Energetic</option>\n              <option value=\"mysterious,dark\">Mysterious & Dark</option>\n              <option value=\"uplifting\">Uplifting</option>\n            </select>\n          </div>\n\n          {/* Duration */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Duration</label>\n            <select\n              value={filters.duration ? `${filters.duration.min}-${filters.duration.max}` : ''}\n              onChange={(e) => {\n                if (e.target.value) {\n                  const [min, max] = e.target.value.split('-').map(v => parseInt(v));\n                  setFilters(prev => ({ ...prev, duration: { min, max } }));\n                } else {\n                  setFilters(prev => ({ ...prev, duration: undefined }));\n                }\n              }}\n              className=\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-3 py-2 text-white focus:border-stream-accent focus:outline-none\"\n            >\n              <option value=\"\">Any Duration</option>\n              <option value=\"0-60\">Under 1 min</option>\n              <option value=\"60-180\">1-3 min</option>\n              <option value=\"180-300\">3-5 min</option>\n              <option value=\"300-600\">5-10 min</option>\n            </select>\n          </div>\n\n          {/* Loop Friendly */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-300 mb-2\">Loop Friendly</label>\n            <select\n              value={filters.loopFriendly?.toString() || ''}\n              onChange={(e) => {\n                const value = e.target.value === '' ? undefined : e.target.value === 'true';\n                setFilters(prev => ({ ...prev, loopFriendly: value }));\n              }}\n              className=\"w-full bg-stream-darker border border-stream-light/20 rounded-lg px-3 py-2 text-white focus:border-stream-accent focus:outline-none\"\n            >\n              <option value=\"\">Any</option>\n              <option value=\"true\">Loop Friendly</option>\n              <option value=\"false\">Not Loop Friendly</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Clear Filters */}\n        {(Object.keys(filters).length > 0 || searchQuery || selectedCategory) && (\n          <div className=\"mt-4\">\n            <button\n              onClick={clearFilters}\n              className=\"text-stream-accent hover:text-stream-accent/80 text-sm font-medium\"\n            >\n              Clear all filters\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Results Summary */}\n      <div className=\"flex items-center justify-between\">\n        <p className=\"text-gray-400\">\n          Showing {getFilteredTrackCount()} of {getTotalTrackCount()} tracks\n          {selectedCategory && ` in ${getCategoryDisplayName(selectedCategory)}`}\n        </p>\n      </div>\n\n      {/* Tracks Grid/List */}\n      <AnimatePresence mode=\"wait\">\n        {filteredTracks.length === 0 ? (\n          <motion.div\n            key=\"no-results\"\n            className=\"text-center py-20\"\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -20 }}\n          >\n            <div className=\"text-6xl mb-4\">🎵</div>\n            <h3 className=\"text-xl font-semibold text-white mb-2\">No tracks found</h3>\n            <p className=\"text-gray-400 mb-6\">\n              Try adjusting your search or filters to find what you're looking for.\n            </p>\n            <button\n              onClick={clearFilters}\n              className=\"bg-stream-accent hover:bg-stream-accent/90 text-white font-semibold px-6 py-3 rounded-xl transition-all duration-200\"\n            >\n              Clear Filters\n            </button>\n          </motion.div>\n        ) : (\n          <motion.div\n            key=\"tracks-grid\"\n            className={viewMode === 'grid' ? 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6' : 'space-y-4'}\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n          >\n            {filteredTracks.map(track => (\n              <TrackCard\n                key={track.id}\n                track={track}\n                onPlay={handlePlayTrack}\n                onPause={() => setCurrentlyPlaying(null)}\n                isPlaying={currentlyPlaying === track.id}\n              />\n            ))}\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Track Uploader Modal */}\n      <AnimatePresence>\n        {showUploader && (\n          <TrackUploader\n            onTrackUpload={handleTrackUpload}\n            onClose={() => setShowUploader(false)}\n          />\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default EnhancedMusicLibrary;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}