{"ast":null,"code":"class AuthService{constructor(){this.USER_KEY='stream_soundboard_user';this.DEMO_USER={id:'demo-123',email:'demo@streamsoundboard.com',userType:'streamer',plan:'pro',isAuthenticated:true,createdAt:new Date(),lastLogin:new Date(),trackLimit:-1,// unlimited\nsunoLimit:-1// unlimited\n};}// Get current user from localStorage\ngetCurrentUser(){try{const userData=localStorage.getItem(this.USER_KEY);if(userData){const user=JSON.parse(userData);// Convert date strings back to Date objects\nuser.createdAt=new Date(user.createdAt);user.lastLogin=new Date(user.lastLogin);return user;}return null;}catch(error){console.error('Error parsing user data:',error);return null;}}// Set user data in localStorage\nsetUser(user){try{localStorage.setItem(this.USER_KEY,JSON.stringify(user));}catch(error){console.error('Error saving user data:',error);}}// Create a new user account\ncreateUser(email,userType,plan){const user={id:this.generateId(),email,userType,plan,isAuthenticated:true,createdAt:new Date(),lastLogin:new Date()};this.setUser(user);return user;}// Update user plan\nupdateUserPlan(plan){const user=this.getCurrentUser();if(user){user.plan=plan;this.setUser(user);}}// Check if user is authenticated\nisAuthenticated(){const user=this.getCurrentUser();return(user===null||user===void 0?void 0:user.isAuthenticated)||false;}// Check if user is a streamer\nisStreamer(){const user=this.getCurrentUser();return(user===null||user===void 0?void 0:user.userType)==='streamer';}// Check if user is an agency\nisAgency(){const user=this.getCurrentUser();return(user===null||user===void 0?void 0:user.userType)==='agency';}// Get user plan\ngetUserPlan(){const user=this.getCurrentUser();return(user===null||user===void 0?void 0:user.plan)||null;}// Check if user has access to feature\nhasFeatureAccess(feature){const user=this.getCurrentUser();if(!user)return false;switch(feature){case'unlimited_tracks':return user.userType==='streamer'&&user.plan==='pro';case'unlimited_suno':return user.userType==='streamer'&&user.plan==='pro';case'obs_integration':return user.userType==='streamer'&&user.plan==='pro';case'discord_bot':return user.userType==='streamer'&&user.plan==='pro';case'client_management':return user.userType==='agency';case'analytics':return user.userType==='streamer'&&user.plan==='pro'||user.userType==='agency';case'bulk_operations':return user.userType==='agency';case'branding_customization':return user.userType==='agency';default:return false;}}// Login with demo account\nloginDemo(){this.setUser(this.DEMO_USER);return this.DEMO_USER;}// Logout user\nlogout(){localStorage.removeItem(this.USER_KEY);}// Generate unique ID\ngenerateId(){return'user_'+Date.now()+'_'+Math.random().toString(36).substr(2,9);}// Get demo user for testing\ngetDemoUser(){return this.DEMO_USER;}}export const authService=new AuthService();export default authService;","map":{"version":3,"names":["AuthService","constructor","USER_KEY","DEMO_USER","id","email","userType","plan","isAuthenticated","createdAt","Date","lastLogin","trackLimit","sunoLimit","getCurrentUser","userData","localStorage","getItem","user","JSON","parse","error","console","setUser","setItem","stringify","createUser","generateId","updateUserPlan","isStreamer","isAgency","getUserPlan","hasFeatureAccess","feature","loginDemo","logout","removeItem","now","Math","random","toString","substr","getDemoUser","authService"],"sources":["/Users/allendunn/Documents/Stream/stream-soundboard/src/services/authService.ts"],"sourcesContent":["export interface User {\n  id: string;\n  email: string;\n  userType: 'streamer' | 'agency';\n  plan: string;\n  isAuthenticated: boolean;\n  createdAt: Date;\n  lastLogin: Date;\n}\n\nexport interface StreamerUser extends User {\n  userType: 'streamer';\n  plan: 'starter' | 'pro';\n  trackLimit: number;\n  sunoLimit: number;\n}\n\nexport interface AgencyUser extends User {\n  userType: 'agency';\n  plan: 'small-agency' | 'medium-agency' | 'enterprise';\n  streamerLimit: number;\n  clients: string[];\n}\n\nclass AuthService {\n  private readonly USER_KEY = 'stream_soundboard_user';\n  private readonly DEMO_USER: StreamerUser = {\n    id: 'demo-123',\n    email: 'demo@streamsoundboard.com',\n    userType: 'streamer',\n    plan: 'pro',\n    isAuthenticated: true,\n    createdAt: new Date(),\n    lastLogin: new Date(),\n    trackLimit: -1, // unlimited\n    sunoLimit: -1 // unlimited\n  };\n\n  // Get current user from localStorage\n  getCurrentUser(): User | null {\n    try {\n      const userData = localStorage.getItem(this.USER_KEY);\n      if (userData) {\n        const user = JSON.parse(userData);\n        // Convert date strings back to Date objects\n        user.createdAt = new Date(user.createdAt);\n        user.lastLogin = new Date(user.lastLogin);\n        return user;\n      }\n      return null;\n    } catch (error) {\n      console.error('Error parsing user data:', error);\n      return null;\n    }\n  }\n\n  // Set user data in localStorage\n  setUser(user: User): void {\n    try {\n      localStorage.setItem(this.USER_KEY, JSON.stringify(user));\n    } catch (error) {\n      console.error('Error saving user data:', error);\n    }\n  }\n\n  // Create a new user account\n  createUser(email: string, userType: 'streamer' | 'agency', plan: string): User {\n    const user: User = {\n      id: this.generateId(),\n      email,\n      userType,\n      plan,\n      isAuthenticated: true,\n      createdAt: new Date(),\n      lastLogin: new Date()\n    };\n\n    this.setUser(user);\n    return user;\n  }\n\n  // Update user plan\n  updateUserPlan(plan: string): void {\n    const user = this.getCurrentUser();\n    if (user) {\n      user.plan = plan;\n      this.setUser(user);\n    }\n  }\n\n  // Check if user is authenticated\n  isAuthenticated(): boolean {\n    const user = this.getCurrentUser();\n    return user?.isAuthenticated || false;\n  }\n\n  // Check if user is a streamer\n  isStreamer(): boolean {\n    const user = this.getCurrentUser();\n    return user?.userType === 'streamer';\n  }\n\n  // Check if user is an agency\n  isAgency(): boolean {\n    const user = this.getCurrentUser();\n    return user?.userType === 'agency';\n  }\n\n  // Get user plan\n  getUserPlan(): string | null {\n    const user = this.getCurrentUser();\n    return user?.plan || null;\n  }\n\n  // Check if user has access to feature\n  hasFeatureAccess(feature: string): boolean {\n    const user = this.getCurrentUser();\n    if (!user) return false;\n\n    switch (feature) {\n      case 'unlimited_tracks':\n        return user.userType === 'streamer' && user.plan === 'pro';\n      case 'unlimited_suno':\n        return user.userType === 'streamer' && user.plan === 'pro';\n      case 'obs_integration':\n        return user.userType === 'streamer' && user.plan === 'pro';\n      case 'discord_bot':\n        return user.userType === 'streamer' && user.plan === 'pro';\n      case 'client_management':\n        return user.userType === 'agency';\n      case 'analytics':\n        return (user.userType === 'streamer' && user.plan === 'pro') || user.userType === 'agency';\n      case 'bulk_operations':\n        return user.userType === 'agency';\n      case 'branding_customization':\n        return user.userType === 'agency';\n      default:\n        return false;\n    }\n  }\n\n  // Login with demo account\n  loginDemo(): StreamerUser {\n    this.setUser(this.DEMO_USER);\n    return this.DEMO_USER;\n  }\n\n  // Logout user\n  logout(): void {\n    localStorage.removeItem(this.USER_KEY);\n  }\n\n  // Generate unique ID\n  private generateId(): string {\n    return 'user_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);\n  }\n\n  // Get demo user for testing\n  getDemoUser(): StreamerUser {\n    return this.DEMO_USER;\n  }\n}\n\nexport const authService = new AuthService();\nexport default authService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}